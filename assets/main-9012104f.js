import{r as mu,a as p,j as u,V as Ei,R as Ci,A as Ti,C as Ri,T as Ai,D as Ni,P as gu,b as N,c as S,G as vu,d as Pi,e as yu,f as bu,g as wu,h as Je,S as Da,i as xs,k as Oe,u as Ge,l as ja,m as Ye,n as _u,o as Oi,p as Ii,q as xu,s as Vt,t as oe,v as ku,w as Su,x as Eu,I as Cu,y as Tu,z as Mi,B as Ru,E as Au,F as Di,H as Nu,J as Pu,K as yo,L as ks,M as ji,N as $i,O as Li,Q as Ou,U as Iu,W as Mu}from"./vendor-bb03dc54.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Ui,bo=mu;Ui=bo.createRoot,bo.hydrateRoot;const Du=1,ju=1e6;let Ws=0;function $u(){return Ws=(Ws+1)%Number.MAX_SAFE_INTEGER,Ws.toString()}const Zs=new Map,wo=r=>{if(Zs.has(r))return;const e=setTimeout(()=>{Zs.delete(r),rn({type:"REMOVE_TOAST",toastId:r})},ju);Zs.set(r,e)},Lu=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,Du)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?wo(t):r.toasts.forEach(n=>{wo(n.id)}),{...r,toasts:r.toasts.map(n=>n.id===t||t===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(t=>t.id!==e.toastId)}}},Xn=[];let Qn={toasts:[]};function rn(r){Qn=Lu(Qn,r),Xn.forEach(e=>{e(Qn)})}function Uu({...r}){const e=$u(),t=s=>rn({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>rn({type:"DISMISS_TOAST",toastId:e});return rn({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:t}}function $a(){const[r,e]=p.useState(Qn);return p.useEffect(()=>(Xn.push(e),()=>{const t=Xn.indexOf(e);t>-1&&Xn.splice(t,1)}),[r]),{...r,toast:Uu,dismiss:t=>rn({type:"DISMISS_TOAST",toastId:t})}}function Fi(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=Fi(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Vi(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=Fi(r))&&(n&&(n+=" "),n+=e);return n}const _o=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,xo=Vi,La=(r,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return xo(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(c=>{const d=t==null?void 0:t[c],h=a==null?void 0:a[c];if(d===null)return null;const f=_o(d)||_o(h);return s[c][f]}),i=t&&Object.entries(t).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:h,className:f,...v}=d;return Object.entries(v).every(w=>{let[g,y]=w;return Array.isArray(y)?y.includes({...a,...i}[g]):{...a,...i}[g]===y})?[...c,h,f]:c},[]);return xo(r,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bi=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=p.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...i},l)=>p.createElement("svg",{ref:l,...Vu,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:Bi("lucide",s),...i},[...o.map(([c,d])=>p.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(r,e)=>{const t=p.forwardRef(({className:n,...s},a)=>p.createElement(Bu,{ref:a,iconNode:e,className:Bi(`lucide-${Fu(r)}`,n),...s}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=ue("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ue("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ue("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ue("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ue("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ue("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ue("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ue("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ue("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ue("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=ue("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ua="-",ch=r=>{const e=uh(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:o=>{const i=o.split(Ua);return i[0]===""&&i.length!==1&&i.shift(),Xi(i,e)||dh(o)},getConflictingClassGroupIds:(o,i)=>{const l=t[o]||[];return i&&n[o]?[...l,...n[o]]:l}}},Xi=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),s=n?Xi(r.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=r.join(Ua);return(o=e.validators.find(({validator:i})=>i(a)))==null?void 0:o.classGroupId},ko=/^\[(.+)\]$/,dh=r=>{if(ko.test(r)){const e=ko.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},uh=r=>{const{theme:e,prefix:t}=r,n={nextPart:new Map,validators:[]};return fh(Object.entries(r.classGroups),t).forEach(([a,o])=>{fa(o,n,a,e)}),n},fa=(r,e,t,n)=>{r.forEach(s=>{if(typeof s=="string"){const a=s===""?e:So(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(hh(s)){fa(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,o])=>{fa(o,So(e,a),t,n)})})},So=(r,e)=>{let t=r;return e.split(Ua).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},hh=r=>r.isThemeGetter,fh=(r,e)=>e?r.map(([t,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,i])=>[e+o,i])):a);return[t,s]}):r,ph=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const s=(a,o)=>{t.set(a,o),e++,e>r&&(e=0,n=t,t=new Map)};return{get(a){let o=t.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){t.has(a)?t.set(a,o):s(a,o)}}},Qi="!",mh=r=>{const{separator:e,experimentalParseClassName:t}=r,n=e.length===1,s=e[0],a=e.length,o=i=>{const l=[];let c=0,d=0,h;for(let y=0;y<i.length;y++){let _=i[y];if(c===0){if(_===s&&(n||i.slice(y,y+a)===e)){l.push(i.slice(d,y)),d=y+a;continue}if(_==="/"){h=y;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?i:i.substring(d),v=f.startsWith(Qi),w=v?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:g}};return t?i=>t({className:i,parseClassName:o}):o},gh=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},vh=r=>({cache:ph(r.cacheSize),parseClassName:mh(r),...ch(r)}),yh=/\s+/,bh=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=r.trim().split(yh);let i="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:v}=t(c);let w=!!v,g=n(w?f.substring(0,v):f);if(!g){if(!w){i=c+(i.length>0?" "+i:i);continue}if(g=n(f),!g){i=c+(i.length>0?" "+i:i);continue}w=!1}const y=gh(d).join(":"),_=h?y+Qi:y,x=_+g;if(a.includes(x))continue;a.push(x);const E=s(g,w);for(let A=0;A<E.length;++A){const C=E[A];a.push(_+C)}i=c+(i.length>0?" "+i:i)}return i};function wh(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=el(e))&&(n&&(n+=" "),n+=t);return n}const el=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=el(r[n]))&&(t&&(t+=" "),t+=e);return t};function _h(r,...e){let t,n,s,a=o;function o(l){const c=e.reduce((d,h)=>h(d),r());return t=vh(c),n=t.cache.get,s=t.cache.set,a=i,i(l)}function i(l){const c=n(l);if(c)return c;const d=bh(l,t);return s(l,d),d}return function(){return a(wh.apply(null,arguments))}}const _e=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},tl=/^\[(?:([a-z-]+):)?(.+)\]$/i,xh=/^\d+\/\d+$/,kh=new Set(["px","full","screen"]),Sh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Eh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ch=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Th=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gt=r=>vr(r)||kh.has(r)||xh.test(r),Ct=r=>Mr(r,"length",jh),vr=r=>!!r&&!Number.isNaN(Number(r)),qs=r=>Mr(r,"number",vr),Zr=r=>!!r&&Number.isInteger(Number(r)),Ah=r=>r.endsWith("%")&&vr(r.slice(0,-1)),Y=r=>tl.test(r),Tt=r=>Sh.test(r),Nh=new Set(["length","size","percentage"]),Ph=r=>Mr(r,Nh,rl),Oh=r=>Mr(r,"position",rl),Ih=new Set(["image","url"]),Mh=r=>Mr(r,Ih,Lh),Dh=r=>Mr(r,"",$h),qr=()=>!0,Mr=(r,e,t)=>{const n=tl.exec(r);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},jh=r=>Eh.test(r)&&!Ch.test(r),rl=()=>!1,$h=r=>Th.test(r),Lh=r=>Rh.test(r),Uh=()=>{const r=_e("colors"),e=_e("spacing"),t=_e("blur"),n=_e("brightness"),s=_e("borderColor"),a=_e("borderRadius"),o=_e("borderSpacing"),i=_e("borderWidth"),l=_e("contrast"),c=_e("grayscale"),d=_e("hueRotate"),h=_e("invert"),f=_e("gap"),v=_e("gradientColorStops"),w=_e("gradientColorStopPositions"),g=_e("inset"),y=_e("margin"),_=_e("opacity"),x=_e("padding"),E=_e("saturate"),A=_e("scale"),C=_e("sepia"),H=_e("skew"),se=_e("space"),ie=_e("translate"),O=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto",Y,e],M=()=>[Y,e],W=()=>["",gt,Ct],ee=()=>["auto",vr,Y],pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Y],ye=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[vr,Y];return{cacheSize:500,separator:":",theme:{colors:[qr],spacing:[gt,Ct],blur:["none","",Tt,Y],brightness:V(),borderColor:[r],borderRadius:["none","","full",Tt,Y],borderSpacing:M(),borderWidth:W(),contrast:V(),grayscale:L(),hueRotate:V(),invert:L(),gap:M(),gradientColorStops:[r],gradientColorStopPositions:[Ah,Ct],inset:le(),margin:le(),opacity:V(),padding:M(),saturate:V(),scale:V(),sepia:L(),skew:V(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Y]}],container:["container"],columns:[{columns:[Tt]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pe(),Y]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zr,Y]}],basis:[{basis:le()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Y]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Zr,Y]}],"grid-cols":[{"grid-cols":[qr]}],"col-start-end":[{col:["auto",{span:["full",Zr,Y]},Y]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[qr]}],"row-start-end":[{row:["auto",{span:[Zr,Y]},Y]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Y]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Y]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[se]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[se]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Y,e]}],"min-w":[{"min-w":[Y,e,"min","max","fit"]}],"max-w":[{"max-w":[Y,e,"none","full","min","max","fit","prose",{screen:[Tt]},Tt]}],h:[{h:[Y,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Y,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Y,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Y,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Tt,Ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qs]}],"font-family":[{font:[qr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Y]}],"line-clamp":[{"line-clamp":["none",vr,qs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gt,Y]}],"list-image":[{"list-image":["none",Y]}],"list-style-type":[{list:["none","disc","decimal",Y]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gt,Ct]}],"underline-offset":[{"underline-offset":["auto",gt,Y]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pe(),Oh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ph]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mh]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:me()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[gt,Y]}],"outline-w":[{outline:[gt,Ct]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[gt,Ct]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Tt,Dh]}],"shadow-color":[{shadow:[qr]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Tt,Y]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Y]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Y]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Y]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Zr,Y]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Y]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[gt,Ct,qs]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Fh=_h(Uh);function re(...r){return Fh(Vi(r))}function Eo(r,e){let t=0;return function(...n){const s=Date.now();if(!(s-t<e))return t=s,r(...n)}}const Vh=gu,nl=p.forwardRef(({className:r,...e},t)=>u(Ei,{ref:t,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...e}));nl.displayName=Ei.displayName;const Bh=La("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sl=p.forwardRef(({className:r,variant:e,...t},n)=>u(Ci,{ref:n,className:re(Bh({variant:e}),r),...t}));sl.displayName=Ci.displayName;const zh=p.forwardRef(({className:r,...e},t)=>u(Ti,{ref:t,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...e}));zh.displayName=Ti.displayName;const al=p.forwardRef(({className:r,...e},t)=>u(Ri,{ref:t,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...e,children:u(oh,{className:"h-4 w-4"})}));al.displayName=Ri.displayName;const ol=p.forwardRef(({className:r,...e},t)=>u(Ai,{ref:t,className:re("text-sm font-semibold",r),...e}));ol.displayName=Ai.displayName;const il=p.forwardRef(({className:r,...e},t)=>u(Ni,{ref:t,className:re("text-sm opacity-90",r),...e}));il.displayName=Ni.displayName;function Wh(){const{toasts:r}=$a();return N(Vh,{children:[r.map(function({id:e,title:t,description:n,action:s,...a}){return N(sl,{...a,children:[N("div",{className:"grid gap-1",children:[t&&u(ol,{children:t}),n&&u(il,{children:n})]}),s,u(al,{})]},e)}),u(nl,{})]})}var Co=["light","dark"],Zh="(prefers-color-scheme: dark)",qh=p.createContext(void 0),Hh={setTheme:r=>{},themes:[]},Gh=()=>{var r;return(r=p.useContext(qh))!=null?r:Hh};p.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:i,nonce:l})=>{let c=a==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=s?Co.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,g=!1,y=!0)=>{let _=o?o[w]:w,x=g?w+"|| ''":`'${_}'`,E="";return s&&y&&!g&&Co.includes(w)&&(E+=`d.style.colorScheme = '${w}';`),t==="class"?g||_?E+=`c.add(${x})`:E+="null":_&&(E+=`d[s](n,${x})`),E},v=r?`!function(){${d}${f(r)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Zh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var Kh=r=>{switch(r){case"success":return Xh;case"info":return ef;case"warning":return Qh;case"error":return tf;default:return null}},Jh=Array(12).fill(0),Yh=({visible:r})=>S.createElement("div",{className:"sonner-loading-wrapper","data-visible":r},S.createElement("div",{className:"sonner-spinner"},Jh.map((e,t)=>S.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Xh=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qh=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ef=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tf=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rf=()=>{let[r,e]=S.useState(document.hidden);return S.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r},pa=1,nf=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;let{message:t,...n}=r,s=typeof(r==null?void 0:r.id)=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:pa++,a=this.toasts.find(i=>i.id===s),o=r.dismissible===void 0?!0:r.dismissible;return a?this.toasts=this.toasts.map(i=>i.id===s?(this.publish({...i,...r,id:s,title:t}),{...i,...r,id:s,dismissible:o,title:t}):i):this.addToast({title:t,...n,dismissible:o,id:s}),s},this.dismiss=r=>(r||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:r,dismiss:!0})),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=r instanceof Promise?r:r(),s=t!==void 0;return n.then(async a=>{if(af(a)&&!a.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,i=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:t,type:"error",message:o,description:i})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(a):e.success,i=typeof e.description=="function"?await e.description(a):e.description;this.create({id:t,type:"success",message:o,description:i})}}).catch(async a=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(a):e.error,i=typeof e.description=="function"?await e.description(a):e.description;this.create({id:t,type:"error",message:o,description:i})}}).finally(()=>{var a;s&&(this.dismiss(t),t=void 0),(a=e.finally)==null||a.call(e)}),t},this.custom=(r,e)=>{let t=(e==null?void 0:e.id)||pa++;return this.create({jsx:r(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},ze=new nf,sf=(r,e)=>{let t=(e==null?void 0:e.id)||pa++;return ze.addToast({title:r,...e,id:t}),t},af=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",of=sf,lf=()=>ze.toasts;Object.assign(of,{success:ze.success,info:ze.info,warning:ze.warning,error:ze.error,custom:ze.custom,message:ze.message,promise:ze.promise,dismiss:ze.dismiss,loading:ze.loading},{getHistory:lf});function cf(r,{insertAt:e}={}){if(!r||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}cf(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bn(r){return r.label!==void 0}var df=3,uf="32px",hf=4e3,ff=356,pf=14,mf=20,gf=200;function vf(...r){return r.filter(Boolean).join(" ")}var yf=r=>{var e,t,n,s,a,o,i,l,c,d;let{invert:h,toast:f,unstyled:v,interacting:w,setHeights:g,visibleToasts:y,heights:_,index:x,toasts:E,expanded:A,removeToast:C,defaultRichColors:H,closeButton:se,style:ie,cancelButtonStyle:O,actionButtonStyle:Z,className:le="",descriptionClassName:M="",duration:W,position:ee,gap:pe,loadingIcon:me,expandByDefault:xe,classNames:q,icons:L,closeButtonAriaLabel:ye="Close toast",pauseWhenPageIsHidden:V,cn:te}=r,[he,Pe]=S.useState(!1),[Ze,fe]=S.useState(!1),[Ve,qe]=S.useState(!1),[Ae,st]=S.useState(!1),[Ln,Vr]=S.useState(0),[Un,Br]=S.useState(0),Bs=S.useRef(null),Zt=S.useRef(null),vo=x===0,m=x+1<=y,b=f.type,k=f.dismissible!==!1,D=f.className||"",I=f.descriptionClassName||"",R=S.useMemo(()=>_.findIndex(J=>J.toastId===f.id)||0,[_,f.id]),F=S.useMemo(()=>{var J;return(J=f.closeButton)!=null?J:se},[f.closeButton,se]),K=S.useMemo(()=>f.duration||W||hf,[f.duration,W]),Se=S.useRef(0),be=S.useRef(0),at=S.useRef(0),St=S.useRef(null),[sr,zr]=ee.split("-"),Fn=S.useMemo(()=>_.reduce((J,we,ge)=>ge>=R?J:J+we.height,0),[_,R]),Wr=rf(),zs=f.invert||h,ar=b==="loading";be.current=S.useMemo(()=>R*pe+Fn,[R,Fn]),S.useEffect(()=>{Pe(!0)},[]),S.useLayoutEffect(()=>{if(!he)return;let J=Zt.current,we=J.style.height;J.style.height="auto";let ge=J.getBoundingClientRect().height;J.style.height=we,Br(ge),g(ot=>ot.find(it=>it.toastId===f.id)?ot.map(it=>it.toastId===f.id?{...it,height:ge}:it):[{toastId:f.id,height:ge,position:f.position},...ot])},[he,f.title,f.description,g,f.id]);let Et=S.useCallback(()=>{fe(!0),Vr(be.current),g(J=>J.filter(we=>we.toastId!==f.id)),setTimeout(()=>{C(f)},gf)},[f,C,g,be]);S.useEffect(()=>{if(f.promise&&b==="loading"||f.duration===1/0||f.type==="loading")return;let J,we=K;return A||w||V&&Wr?(()=>{if(at.current<Se.current){let ge=new Date().getTime()-Se.current;we=we-ge}at.current=new Date().getTime()})():we!==1/0&&(Se.current=new Date().getTime(),J=setTimeout(()=>{var ge;(ge=f.onAutoClose)==null||ge.call(f,f),Et()},we)),()=>clearTimeout(J)},[A,w,xe,f,K,Et,f.promise,b,V,Wr]),S.useEffect(()=>{let J=Zt.current;if(J){let we=J.getBoundingClientRect().height;return Br(we),g(ge=>[{toastId:f.id,height:we,position:f.position},...ge]),()=>g(ge=>ge.filter(ot=>ot.toastId!==f.id))}},[g,f.id]),S.useEffect(()=>{f.delete&&Et()},[Et,f.delete]);function fu(){return L!=null&&L.loading?S.createElement("div",{className:"sonner-loader","data-visible":b==="loading"},L.loading):me?S.createElement("div",{className:"sonner-loader","data-visible":b==="loading"},me):S.createElement(Yh,{visible:b==="loading"})}return S.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Zt,className:te(le,D,q==null?void 0:q.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[b],(t=f==null?void 0:f.classNames)==null?void 0:t[b]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:H,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":he,"data-promise":!!f.promise,"data-removed":Ze,"data-visible":m,"data-y-position":sr,"data-x-position":zr,"data-index":x,"data-front":vo,"data-swiping":Ve,"data-dismissible":k,"data-type":b,"data-invert":zs,"data-swipe-out":Ae,"data-expanded":!!(A||xe&&he),style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${Ze?Ln:be.current}px`,"--initial-height":xe?"auto":`${Un}px`,...ie,...f.style},onPointerDown:J=>{ar||!k||(Bs.current=new Date,Vr(be.current),J.target.setPointerCapture(J.pointerId),J.target.tagName!=="BUTTON"&&(qe(!0),St.current={x:J.clientX,y:J.clientY}))},onPointerUp:()=>{var J,we,ge,ot;if(Ae||!k)return;St.current=null;let it=Number(((J=Zt.current)==null?void 0:J.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Vn=new Date().getTime()-((we=Bs.current)==null?void 0:we.getTime()),pu=Math.abs(it)/Vn;if(Math.abs(it)>=mf||pu>.11){Vr(be.current),(ge=f.onDismiss)==null||ge.call(f,f),Et(),st(!0);return}(ot=Zt.current)==null||ot.style.setProperty("--swipe-amount","0px"),qe(!1)},onPointerMove:J=>{var we;if(!St.current||!k)return;let ge=J.clientY-St.current.y,ot=J.clientX-St.current.x,it=(sr==="top"?Math.min:Math.max)(0,ge),Vn=J.pointerType==="touch"?10:2;Math.abs(it)>Vn?(we=Zt.current)==null||we.style.setProperty("--swipe-amount",`${ge}px`):Math.abs(ot)>Vn&&(St.current=null)}},F&&!f.jsx?S.createElement("button",{"aria-label":ye,"data-disabled":ar,"data-close-button":!0,onClick:ar||!k?()=>{}:()=>{var J;Et(),(J=f.onDismiss)==null||J.call(f,f)},className:te(q==null?void 0:q.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},S.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||S.isValidElement(f.title)?f.jsx||f.title:S.createElement(S.Fragment,null,b||f.icon||f.promise?S.createElement("div",{"data-icon":"",className:te(q==null?void 0:q.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fu():null,f.type!=="loading"?f.icon||(L==null?void 0:L[b])||Kh(b):null):null,S.createElement("div",{"data-content":"",className:te(q==null?void 0:q.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},S.createElement("div",{"data-title":"",className:te(q==null?void 0:q.title,(i=f==null?void 0:f.classNames)==null?void 0:i.title)},f.title),f.description?S.createElement("div",{"data-description":"",className:te(M,I,q==null?void 0:q.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),S.isValidElement(f.cancel)?f.cancel:f.cancel&&Bn(f.cancel)?S.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:J=>{var we,ge;Bn(f.cancel)&&k&&((ge=(we=f.cancel).onClick)==null||ge.call(we,J),Et())},className:te(q==null?void 0:q.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,S.isValidElement(f.action)?f.action:f.action&&Bn(f.action)?S.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||Z,onClick:J=>{var we,ge;Bn(f.action)&&(J.defaultPrevented||((ge=(we=f.action).onClick)==null||ge.call(we,J),Et()))},className:te(q==null?void 0:q.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function To(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}var bf=r=>{let{invert:e,position:t="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:i,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:f=df,toastOptions:v,dir:w=To(),gap:g=pf,loadingIcon:y,icons:_,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:E,cn:A=vf}=r,[C,H]=S.useState([]),se=S.useMemo(()=>Array.from(new Set([t].concat(C.filter(V=>V.position).map(V=>V.position)))),[C,t]),[ie,O]=S.useState([]),[Z,le]=S.useState(!1),[M,W]=S.useState(!1),[ee,pe]=S.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),me=S.useRef(null),xe=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=S.useRef(null),L=S.useRef(!1),ye=S.useCallback(V=>{var te;(te=C.find(he=>he.id===V.id))!=null&&te.delete||ze.dismiss(V.id),H(he=>he.filter(({id:Pe})=>Pe!==V.id))},[C]);return S.useEffect(()=>ze.subscribe(V=>{if(V.dismiss){H(te=>te.map(he=>he.id===V.id?{...he,delete:!0}:he));return}setTimeout(()=>{vu.flushSync(()=>{H(te=>{let he=te.findIndex(Pe=>Pe.id===V.id);return he!==-1?[...te.slice(0,he),{...te[he],...V},...te.slice(he+1)]:[V,...te]})})})}),[]),S.useEffect(()=>{if(l!=="system"){pe(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{pe(V?"dark":"light")})},[l]),S.useEffect(()=>{C.length<=1&&le(!1)},[C]),S.useEffect(()=>{let V=te=>{var he,Pe;n.every(Ze=>te[Ze]||te.code===Ze)&&(le(!0),(he=me.current)==null||he.focus()),te.code==="Escape"&&(document.activeElement===me.current||(Pe=me.current)!=null&&Pe.contains(document.activeElement))&&le(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[n]),S.useEffect(()=>{if(me.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,L.current=!1)}},[me.current]),C.length?S.createElement("section",{"aria-label":`${x} ${xe}`,tabIndex:-1},se.map((V,te)=>{var he;let[Pe,Ze]=V.split("-");return S.createElement("ol",{key:V,dir:w==="auto"?To():w,tabIndex:-1,ref:me,className:o,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":Pe,"data-x-position":Ze,style:{"--front-toast-height":`${((he=ie[0])==null?void 0:he.height)||0}px`,"--offset":typeof i=="number"?`${i}px`:i||uf,"--width":`${ff}px`,"--gap":`${g}px`,...h},onBlur:fe=>{L.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(L.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||L.current||(L.current=!0,q.current=fe.relatedTarget)},onMouseEnter:()=>le(!0),onMouseMove:()=>le(!0),onMouseLeave:()=>{M||le(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},C.filter(fe=>!fe.position&&te===0||fe.position===V).map((fe,Ve)=>{var qe,Ae;return S.createElement(yf,{key:fe.id,icons:_,index:Ve,toast:fe,defaultRichColors:c,duration:(qe=v==null?void 0:v.duration)!=null?qe:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ae=v==null?void 0:v.closeButton)!=null?Ae:a,interacting:M,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ye,toasts:C.filter(st=>st.position==fe.position),heights:ie.filter(st=>st.position==fe.position),setHeights:O,expandByDefault:s,gap:g,loadingIcon:y,expanded:Z,pauseWhenPageIsHidden:E,cn:A})}))})):null};const wf=({...r})=>{const{theme:e="system"}=Gh();return u(bf,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})},_f=yu,xf=p.forwardRef(({className:r,sideOffset:e=4,...t},n)=>u(Pi,{ref:n,sideOffset:e,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t}));xf.displayName=Pi.displayName;const kf={theme:"system",setTheme:()=>null,isDarkMode:!1},Sf=p.createContext(kf);function Ef({children:r,defaultTheme:e="system",storageKey:t="theme"}){const[n,s]=p.useState(()=>localStorage.getItem(t)||e),[a,o]=p.useState(!1);p.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),n==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c),o(c==="dark")}else l.classList.add(n),o(n==="dark")},[n]),p.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{n==="system"&&(o(l.matches),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(l.matches?"dark":"light"))};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[n]);const i={theme:n,setTheme:l=>{localStorage.setItem(t,l),s(l)},isDarkMode:a};return u(Sf.Provider,{value:i,children:r})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dn(){return dn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},dn.apply(this,arguments)}var Dt;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Dt||(Dt={}));const Ro="popstate";function Cf(r){r===void 0&&(r={});function e(n,s){let{pathname:a,search:o,hash:i}=n.location;return ma("",{pathname:a,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:ss(s)}return Rf(e,t,null,r)}function Ce(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ll(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tf(){return Math.random().toString(36).substr(2,8)}function Ao(r,e){return{usr:r.state,key:r.key,idx:e}}function ma(r,e,t,n){return t===void 0&&(t=null),dn({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Dr(e):e,{state:t,key:e&&e.key||n||Tf()})}function ss(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dr(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Rf(r,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,i=Dt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(dn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){i=Dt.Pop;let y=d(),_=y==null?null:y-c;c=y,l&&l({action:i,location:g.location,delta:_})}function f(y,_){i=Dt.Push;let x=ma(g.location,y,_);t&&t(x,y),c=d()+1;let E=Ao(x,c),A=g.createHref(x);try{o.pushState(E,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(A)}a&&l&&l({action:i,location:g.location,delta:1})}function v(y,_){i=Dt.Replace;let x=ma(g.location,y,_);t&&t(x,y),c=d();let E=Ao(x,c),A=g.createHref(x);o.replaceState(E,"",A),a&&l&&l({action:i,location:g.location,delta:0})}function w(y){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof y=="string"?y:ss(y);return x=x.replace(/ $/,"%20"),Ce(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let g={get action(){return i},get location(){return r(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ro,h),l=y,()=>{s.removeEventListener(Ro,h),l=null}},createHref(y){return e(s,y)},createURL:w,encodeLocation(y){let _=w(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:v,go(y){return o.go(y)}};return g}var No;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(No||(No={}));function Af(r,e,t){return t===void 0&&(t="/"),Nf(r,e,t,!1)}function Nf(r,e,t,n){let s=typeof e=="string"?Dr(e):e,a=Fa(s.pathname||"/",t);if(a==null)return null;let o=cl(r);Pf(o);let i=null;for(let l=0;i==null&&l<o.length;++l){let c=Bf(a);i=Ff(o[l],c,n)}return i}function cl(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(a,o,i)=>{let l={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Ce(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=jt([n,l.relativePath]),d=t.concat(l);a.children&&a.children.length>0&&(Ce(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cl(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Lf(c,a.index),routesMeta:d})};return r.forEach((a,o)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))s(a,o);else for(let l of dl(a.path))s(a,o,l)}),e}function dl(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=dl(n.join("/")),i=[];return i.push(...o.map(l=>l===""?a:[a,l].join("/"))),s&&i.push(...o),i.map(l=>r.startsWith("/")&&l===""?"/":l)}function Pf(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Uf(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Of=/^:[\w-]+$/,If=3,Mf=2,Df=1,jf=10,$f=-2,Po=r=>r==="*";function Lf(r,e){let t=r.split("/"),n=t.length;return t.some(Po)&&(n+=$f),e&&(n+=Mf),t.filter(s=>!Po(s)).reduce((s,a)=>s+(Of.test(a)?If:a===""?Df:jf),n)}function Uf(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function Ff(r,e,t){t===void 0&&(t=!1);let{routesMeta:n}=r,s={},a="/",o=[];for(let i=0;i<n.length;++i){let l=n[i],c=i===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=Oo({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&t&&!n[n.length-1].route.index&&(h=Oo({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:jt([a,h.pathname]),pathnameBase:qf(jt([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=jt([a,h.pathnameBase]))}return o}function Oo(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Vf(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let g=i[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const w=i[h];return v&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:r}}function Vf(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ll(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,l)=>(n.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Bf(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ll(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Fa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function zf(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?Dr(r):r;return{pathname:t?t.startsWith("/")?t:Wf(t,e):e,search:Hf(n),hash:Gf(s)}}function Wf(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Hs(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zf(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Va(r,e){let t=Zf(r);return e?t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Ba(r,e,t,n){n===void 0&&(n=!1);let s;typeof r=="string"?s=Dr(r):(s=dn({},r),Ce(!s.pathname||!s.pathname.includes("?"),Hs("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),Hs("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),Hs("#","search","hash",s)));let a=r===""||s.pathname==="",o=a?"/":s.pathname,i;if(o==null)i=t;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}i=h>=0?e[h]:"/"}let l=zf(s,i),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const jt=r=>r.join("/").replace(/\/\/+/g,"/"),qf=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hf=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Gf=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Kf(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const ul=["post","put","patch","delete"];new Set(ul);const Jf=["get",...ul];new Set(Jf);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function un(){return un=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},un.apply(this,arguments)}const za=p.createContext(null),Yf=p.createContext(null),Bt=p.createContext(null),Ss=p.createContext(null),zt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),hl=p.createContext(null);function Xf(r,e){let{relative:t}=e===void 0?{}:e;jr()||Ce(!1);let{basename:n,navigator:s}=p.useContext(Bt),{hash:a,pathname:o,search:i}=pl(r,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:jt([n,o])),s.createHref({pathname:l,search:i,hash:a})}function jr(){return p.useContext(Ss)!=null}function kt(){return jr()||Ce(!1),p.useContext(Ss).location}function fl(r){p.useContext(Bt).static||p.useLayoutEffect(r)}function $r(){let{isDataRoute:r}=p.useContext(zt);return r?up():Qf()}function Qf(){jr()||Ce(!1);let r=p.useContext(za),{basename:e,future:t,navigator:n}=p.useContext(Bt),{matches:s}=p.useContext(zt),{pathname:a}=kt(),o=JSON.stringify(Va(s,t.v7_relativeSplatPath)),i=p.useRef(!1);return fl(()=>{i.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let h=Ba(c,JSON.parse(o),a,d.relative==="path");r==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:jt([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,r])}function pl(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=p.useContext(Bt),{matches:s}=p.useContext(zt),{pathname:a}=kt(),o=JSON.stringify(Va(s,n.v7_relativeSplatPath));return p.useMemo(()=>Ba(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function ep(r,e){return tp(r,e)}function tp(r,e,t,n){jr()||Ce(!1);let{navigator:s}=p.useContext(Bt),{matches:a}=p.useContext(zt),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kt(),d;if(e){var h;let y=typeof e=="string"?Dr(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Ce(!1),d=y}else d=c;let f=d.pathname||"/",v=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=Af(r,{pathname:v}),g=op(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},i,y.params),pathname:jt([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:jt([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,n);return e&&g?p.createElement(Ss.Provider,{value:{location:un({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Dt.Pop}},g):g}function rp(){let r=dp(),e=Kf(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),t?p.createElement("pre",{style:s},t):null,a)}const np=p.createElement(rp,null);class sp extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(zt.Provider,{value:this.props.routeContext},p.createElement(hl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ap(r){let{routeContext:e,match:t,children:n}=r,s=p.useContext(za);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(zt.Provider,{value:e},n)}function op(r,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,i=(s=t)==null?void 0:s.errors;if(i!=null){let d=o.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);d>=0||Ce(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(t&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=t,w=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,w=!1,g=null,y=null;t&&(v=i&&h.route.id?i[h.route.id]:void 0,g=h.route.errorElement||np,l&&(c<0&&f===0?(hp("route-fallback",!1),w=!0,y=null):c===f&&(w=!0,y=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let E;return v?E=g:w?E=y:h.route.Component?E=p.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,p.createElement(ap,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(sp,{location:t.location,revalidation:t.revalidation,component:g,error:v,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var ml=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(ml||{}),as=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(as||{});function ip(r){let e=p.useContext(za);return e||Ce(!1),e}function lp(r){let e=p.useContext(Yf);return e||Ce(!1),e}function cp(r){let e=p.useContext(zt);return e||Ce(!1),e}function gl(r){let e=cp(),t=e.matches[e.matches.length-1];return t.route.id||Ce(!1),t.route.id}function dp(){var r;let e=p.useContext(hl),t=lp(as.UseRouteError),n=gl(as.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function up(){let{router:r}=ip(ml.UseNavigateStable),e=gl(as.UseNavigateStable),t=p.useRef(!1);return fl(()=>{t.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,un({fromRouteId:e},a)))},[r,e])}const Io={};function hp(r,e,t){!e&&!Io[r]&&(Io[r]=!0)}function vl(r){let{to:e,replace:t,state:n,relative:s}=r;jr()||Ce(!1);let{future:a,static:o}=p.useContext(Bt),{matches:i}=p.useContext(zt),{pathname:l}=kt(),c=$r(),d=Ba(e,Va(i,a.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>c(JSON.parse(h),{replace:t,state:n,relative:s}),[c,h,s,t,n]),null}function Ht(r){Ce(!1)}function fp(r){let{basename:e="/",children:t=null,location:n,navigationType:s=Dt.Pop,navigator:a,static:o=!1,future:i}=r;jr()&&Ce(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:a,static:o,future:un({v7_relativeSplatPath:!1},i)}),[l,i,a,o]);typeof n=="string"&&(n=Dr(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:w="default"}=n,g=p.useMemo(()=>{let y=Fa(d,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:v,key:w},navigationType:s}},[l,d,h,f,v,w,s]);return g==null?null:p.createElement(Bt.Provider,{value:c},p.createElement(Ss.Provider,{children:t,value:g}))}function pp(r){let{children:e,location:t}=r;return ep(ga(e),t)}new Promise(()=>{});function ga(r,e){e===void 0&&(e=[]);let t=[];return p.Children.forEach(r,(n,s)=>{if(!p.isValidElement(n))return;let a=[...e,s];if(n.type===p.Fragment){t.push.apply(t,ga(n.props.children,a));return}n.type!==Ht&&Ce(!1),!n.props.index||!n.props.children||Ce(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ga(n.props.children,a)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},va.apply(this,arguments)}function mp(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function gp(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vp(r,e){return r.button===0&&(!e||e==="_self")&&!gp(r)}const yp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bp="6";try{window.__reactRouterVersion=bp}catch{}const wp="startTransition",Mo=bu[wp];function _p(r){let{basename:e,children:t,future:n,window:s}=r,a=p.useRef();a.current==null&&(a.current=Cf({window:s,v5Compat:!0}));let o=a.current,[i,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=p.useCallback(h=>{c&&Mo?Mo(()=>l(h)):l(h)},[l,c]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(fp,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o,future:n})}const xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=p.forwardRef(function(e,t){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:i,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=mp(e,yp),{basename:v}=p.useContext(Bt),w,g=!1;if(typeof c=="string"&&kp.test(c)&&(w=c,xp))try{let E=new URL(window.location.href),A=c.startsWith("//")?new URL(E.protocol+c):new URL(c),C=Fa(A.pathname,v);A.origin===E.origin&&C!=null?c=C+A.search+A.hash:g=!0}catch{}let y=Xf(c,{relative:s}),_=Sp(c,{replace:o,state:i,target:l,preventScrollReset:d,relative:s,viewTransition:h});function x(E){n&&n(E),E.defaultPrevented||_(E)}return p.createElement("a",va({},f,{href:w||y,onClick:g||a?n:x,ref:t,target:l}))});var Do;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Do||(Do={}));var jo;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(jo||(jo={}));function Sp(r,e){let{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:i}=e===void 0?{}:e,l=$r(),c=kt(),d=pl(r,{relative:o});return p.useCallback(h=>{if(vp(h,t)){h.preventDefault();let f=n!==void 0?n:ss(c)===ss(d);l(r,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:i})}},[c,l,d,n,s,t,r,a,o,i])}const Ep="modulepreload",Cp=function(r){return"/fluid-annotations-connect-1/"+r},$o={},Tr=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(a=>{if(a=Cp(a),a in $o)return;$o[a]=!0;const o=a.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Ep,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},Tp=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Tr(()=>Promise.resolve().then(()=>Lr),void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Wa extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Rp extends Wa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ap extends Wa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Np extends Wa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ya;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ya||(ya={}));var Pp=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};class Op{constructor(e,{headers:t={},customFetch:n,region:s=ya.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=Tp(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Pp(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=t;let i={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(i["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(i["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(i["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),s),body:c}).catch(w=>{throw new Rp(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Ap(d);if(!d.ok)throw new Np(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Fe={},Za={},Es={},Pn={},Cs={},Ts={},Ip=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rr=Ip();const Mp=Rr.fetch,yl=Rr.fetch.bind(Rr),bl=Rr.Headers,Dp=Rr.Request,jp=Rr.Response,Lr=Object.freeze(Object.defineProperty({__proto__:null,Headers:bl,Request:Dp,Response:jp,default:yl,fetch:Mp},Symbol.toStringTag,{value:"Module"})),$p=wu(Lr);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});let Lp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Rs.default=Lp;var wl=Je&&Je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ts,"__esModule",{value:!0});const Up=wl($p),Fp=wl(Rs);let Vp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Up.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,i,l;let c=null,d=null,h=null,f=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const _=await a.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=_:d=JSON.parse(_))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(i=a.headers.get("content-range"))===null||i===void 0?void 0:i.split("/");g&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{c=JSON.parse(g),Array.isArray(c)&&a.status===404&&(d=[],c=null,f=200,v="OK")}catch{a.status===404&&g===""?(f=204,v="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new Fp.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,i,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(i=a==null?void 0:a.stack)!==null&&i!==void 0?i:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};Ts.default=Vp;var Bp=Je&&Je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cs,"__esModule",{value:!0});const zp=Bp(Ts);let Wp=class extends zp.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.Accept)!==null&&i!==void 0?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cs.default=Wp;var Zp=Je&&Je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pn,"__esModule",{value:!0});const qp=Zp(Cs);let Hp=class extends qp.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Pn.default=Hp;var Gp=Je&&Je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Es,"__esModule",{value:!0});const Gr=Gp(Pn);let Kp=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(i=>/\s/.test(i)&&!a?"":(i==='"'&&(a=!a),i)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Gr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const o=e.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(o.length>0){const i=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new Gr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Gr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Gr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Gr.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Es.default=Kp;var As={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.version=void 0;Ns.version="0.0.0-automated";Object.defineProperty(As,"__esModule",{value:!0});As.DEFAULT_HEADERS=void 0;const Jp=Ns;As.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jp.version}`};var _l=Je&&Je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Za,"__esModule",{value:!0});const Yp=_l(Es),Xp=_l(Pn),Qp=As;let em=class xl{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Qp.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Yp.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:a}={}){let o;const i=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{i.searchParams.append(d,h)})):(o="POST",l=t);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new Xp.default({method:o,url:i,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Za.default=em;var Ur=Je&&Je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const kl=Ur(Za);Fe.PostgrestClient=kl.default;const Sl=Ur(Es);Fe.PostgrestQueryBuilder=Sl.default;const El=Ur(Pn);Fe.PostgrestFilterBuilder=El.default;const Cl=Ur(Cs);Fe.PostgrestTransformBuilder=Cl.default;const Tl=Ur(Ts);Fe.PostgrestBuilder=Tl.default;const Rl=Ur(Rs);Fe.PostgrestError=Rl.default;var tm=Fe.default={PostgrestClient:kl.default,PostgrestQueryBuilder:Sl.default,PostgrestFilterBuilder:El.default,PostgrestTransformBuilder:Cl.default,PostgrestBuilder:Tl.default,PostgrestError:Rl.default};const{PostgrestClient:rm,PostgrestQueryBuilder:w0,PostgrestFilterBuilder:_0,PostgrestTransformBuilder:x0,PostgrestBuilder:k0,PostgrestError:S0}=tm,nm="2.11.2",sm={"X-Client-Info":`realtime-js/${nm}`},am="1.0.0",Al=1e4,om=1e3;var yr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(yr||(yr={}));var Be;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Be||(Be={}));var Qe;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Qe||(Qe={}));var ba;(function(r){r.websocket="websocket"})(ba||(ba={}));var Kt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Kt||(Kt={}));class im{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),a=t.getUint8(2);let o=this.HEADER_LENGTH+2;const i=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+a));o=o+a;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:i,event:l,payload:c}}}class Nl{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ve||(ve={}));const Lo=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=lm(o,r,e,s),a),{})},lm=(r,e,t,n)=>{const s=e.find(i=>i.name===r),a=s==null?void 0:s.type,o=t[r];return a&&!n.includes(a)?Pl(a,o):wa(o)},Pl=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return hm(e,t)}switch(r){case ve.bool:return cm(e);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return dm(e);case ve.json:case ve.jsonb:return um(e);case ve.timestamp:return fm(e);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return wa(e);default:return wa(e)}},wa=r=>r,cm=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},dm=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},um=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},hm=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let a;const o=r.slice(1,t);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(i=>Pl(e,i))}return r},fm=r=>typeof r=="string"?r.replace(" ","T"):r,Ol=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Gs{constructor(e,t,n={},s=Al){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Uo;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Uo||(Uo={}));class nn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nn.syncState(this.state,s,a,o),this.pendingDiffs.forEach(l=>{this.state=nn.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],i()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nn.syncDiff(this.state,s,a,o),i())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const a=this.cloneDeep(e),o=this.transformState(t),i={},l={};return this.map(a,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=a[c];if(h){const f=d.map(y=>y.presence_ref),v=h.map(y=>y.presence_ref),w=d.filter(y=>v.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);w.length>0&&(i[c]=w),g.length>0&&(l[c]=g)}else i[c]=d}),this.syncDiff(a,{joins:i,leaves:l},n,s)}static syncDiff(e,t,n,s){const{joins:a,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(i,l)=>{var c;const d=(c=e[i])!==null&&c!==void 0?c:[];if(e[i]=this.cloneDeep(l),d.length>0){const h=e[i].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[i].unshift(...f)}n(i,d,l)}),this.map(o,(i,l)=>{let c=e[i];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[i]=c,s(i,c,l),c.length===0&&delete e[i]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fo;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Fo||(Fo={}));var Vo;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Vo||(Vo={}));var wt;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class qa{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Gs(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new Nl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new nn(this),this.broadcastEndpointURL=Ol(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:i}}=this.params;this._onError(d=>e==null?void 0:e(wt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(wt.CLOSED));const l={},c={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:i};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(wt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let g=0;g<v;g++){const y=f[g],{filter:{event:_,schema:x,table:E,filter:A}}=y,C=d&&d[g];if(C&&C.event===_&&C.schema===x&&C.table===E&&C.filter===A)w.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),e==null||e(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(wt.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,i,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(i=(o=this.params)===null||o===void 0?void 0:o.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Gs(this,Qe.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gs(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,a;const o=e.toLocaleLowerCase(),{close:i,error:l,leave:c,join:d}=Qe;if(n&&[i,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,g,y;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(g=v.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var w,g,y,_,x,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const A=v.id,C=(w=v.filter)===null||w===void 0?void 0:w.event;return A&&((g=t.ids)===null||g===void 0?void 0:g.includes(A))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const A=(x=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:g,table:y,commit_timestamp:_,type:x,errors:E}=w;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:_,eventType:x,new:{},old:{},errors:E}),this._getPayloadRecords(w))}v.callback(f,n)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&qa.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qe.close,{},e)}_onError(e){this._on(Qe.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Lo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Lo(e.columns,e.old_record)),t}}const pm=()=>{},mm=typeof WebSocket<"u",gm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vm{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sm,this.params={},this.timeout=Al,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pm,this.conn=null,this.sendBuffer=[],this.serializer=new im,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...i)=>Tr(()=>Promise.resolve().then(()=>Lr),void 0).then(({default:l})=>l(...i)):o=fetch,(...i)=>o(...i)},this.endPoint=`${e}/${ba.websocket}`,this.httpEndpoint=Ol(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(a,o)=>o(JSON.stringify(a)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Nl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mm){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ym(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Tr(()=>import("./browser-2eb0cc00.js").then(e=>e.b),["assets/browser-2eb0cc00.js","assets/vendor-bb03dc54.js"]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:am}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return Kt.Connecting;case yr.open:return Kt.Open;case yr.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}channel(e,t={config:{}}){const n=new qa(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:s,ref:a}=e,o=()=>{this.encode(e,i=>{var l;(l=this.conn)===null||l===void 0||l.send(i)})};this.log("push",`${t} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(Qe.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(om,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:a,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),this.channels.filter(i=>i._isMember(n)).forEach(i=>i._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(i=>i(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qe.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([gm],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class ym{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Ha extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ne(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class bm extends Ha{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _a extends Ha{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wm=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};const Il=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Tr(()=>Promise.resolve().then(()=>Lr),void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},_m=()=>wm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tr(()=>Promise.resolve().then(()=>Lr),void 0)).Response:Response}),xa=r=>{if(Array.isArray(r))return r.map(t=>xa(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=xa(n)}),e};var tr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};const Ks=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),xm=(r,e,t)=>tr(void 0,void 0,void 0,function*(){const n=yield _m();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new bm(Ks(s),r.status||500))}).catch(s=>{e(new _a(Ks(s),s))}):e(new _a(Ks(r),r))}),km=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function On(r,e,t,n,s,a){return tr(this,void 0,void 0,function*(){return new Promise((o,i)=>{r(t,km(e,n,s,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>xm(l,i,n))})})}function os(r,e,t,n){return tr(this,void 0,void 0,function*(){return On(r,"GET",e,t,n)})}function Pt(r,e,t,n,s){return tr(this,void 0,void 0,function*(){return On(r,"POST",e,n,s,t)})}function Sm(r,e,t,n,s){return tr(this,void 0,void 0,function*(){return On(r,"PUT",e,n,s,t)})}function Em(r,e,t,n){return tr(this,void 0,void 0,function*(){return On(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Ml(r,e,t,n,s){return tr(this,void 0,void 0,function*(){return On(r,"DELETE",e,n,s,t)})}var $e=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};const Cm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tm{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Il(s)}uploadOrUpdate(e,t,n,s){return $e(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Bo),s);let i=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,i["cache-control"]=`max-age=${o.cacheControl}`,i["content-type"]=o.contentType,l&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(i=Object.assign(Object.assign({},i),s.headers));const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:i},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}upload(e,t,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return $e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),i=new URL(this.url+`/object/upload/sign/${o}`);i.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Bo.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(i.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return $e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield Pt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),i=o.searchParams.get("token");if(!i)throw new Ha("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}update(e,t,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return $e(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}copy(e,t,n){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return $e(this,void 0,void 0,function*(){try{const s=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}download(e,t){return $e(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=a?`?${a}`:"";try{const i=this._getFinalPath(e);return{data:yield(yield os(this.fetch,`${this.url}/${s}/${i}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}info(e){return $e(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield os(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:xa(n),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}exists(e){return $e(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Em(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ne(n)&&n instanceof _a){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${c}`)}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}list(e,t,n){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cm),t),{prefix:e||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Rm="2.7.1",Am={"X-Client-Info":`storage-js/${Rm}`};var or=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};class Nm{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Am),t),this.fetch=Il(n)}listBuckets(){return or(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ne(e))return{data:null,error:e};throw e}})}getBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return or(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return or(this,void 0,void 0,function*(){try{return{data:yield Sm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}emptyBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}deleteBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}}class Pm extends Nm{constructor(e,t={},n){super(e,t,n)}from(e){return new Tm(this.url,this.headers,e,this.fetch)}}const Om="2.49.3";let Xr="";typeof Deno<"u"?Xr="deno":typeof document<"u"?Xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xr="react-native":Xr="node";const Im={"X-Client-Info":`supabase-js-${Xr}/${Om}`},Mm={headers:Im},Dm={schema:"public"},jm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$m={};var Lm=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};const Um=r=>{let e;return r?e=r:typeof fetch>"u"?e=yl:e=fetch,(...t)=>e(...t)},Fm=()=>typeof Headers>"u"?bl:Headers,Vm=(r,e,t)=>{const n=Um(t),s=Fm();return(a,o)=>Lm(void 0,void 0,void 0,function*(){var i;const l=(i=yield e())!==null&&i!==void 0?i:r;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:c}))})};var Bm=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};function zm(r){return r.replace(/\/$/,"")}function Wm(r,e){const{db:t,auth:n,realtime:s,global:a}=r,{db:o,auth:i,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},i),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),a),accessToken:()=>Bm(this,void 0,void 0,function*(){return""})};return r.accessToken?d.accessToken=r.accessToken:delete d.accessToken,d}const Dl="2.69.1",pr=30*1e3,ka=3,Js=ka*pr,Zm="http://localhost:9999",qm="supabase.auth.token",Hm={"X-Client-Info":`gotrue-js/${Dl}`},Sa="X-Supabase-Api-Version",jl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Km=6e5;class Ga extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function X(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Jm extends Ga{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Ym(r){return X(r)&&r.name==="AuthApiError"}class $l extends Ga{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wt extends Ga{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Rt extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xm(r){return X(r)&&r.name==="AuthSessionMissingError"}class Ys extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zn extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wn extends Wt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qm(r){return X(r)&&r.name==="AuthImplicitGrantRedirectError"}class zo extends Wt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ea extends Wt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Xs(r){return X(r)&&r.name==="AuthRetryableFetchError"}class Wo extends Wt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class sn extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qo=` 	
\r=`.split(""),eg=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<qo.length;e+=1)r[qo[e].charCodeAt(0)]=-2;for(let e=0;e<Zo.length;e+=1)r[Zo[e].charCodeAt(0)]=e;return r})();function Ll(r,e,t){const n=eg[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Ho(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{ng(o,n,t)};for(let o=0;o<r.length;o+=1)Ll(r.charCodeAt(o),s,a);return e.join("")}function tg(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function rg(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}tg(n,e)}}function ng(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function sg(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)Ll(r.charCodeAt(s),t,n);return new Uint8Array(e)}function ag(r){const e=[];return rg(r,t=>e.push(t)),new Uint8Array(e)}function og(r){return Math.round(Date.now()/1e3)+r}function ig(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const lt=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},an=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function lg(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ul=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Tr(()=>Promise.resolve().then(()=>Lr),void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},cg=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Fl=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Zn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},qn=async(r,e)=>{await r.removeItem(e)};class Ps{constructor(){this.promise=new Ps.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ps.promiseConstructor=Promise;function Qs(r){const e=r.split(".");if(e.length!==3)throw new sn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Gm.test(e[n]))throw new sn("JWT not in base64url format");return{header:JSON.parse(Ho(e[0])),payload:JSON.parse(Ho(e[1])),signature:sg(e[2]),raw:{header:e[0],payload:e[1]}}}async function dg(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function ug(r,e){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await r(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){s(o);return}}})()})}function hg(r){return("0"+r.toString(16)).substr(-2)}function fg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,hg).join("")}async function pg(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function mg(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await pg(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ir(r,e,t=!1){const n=fg();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Fl(r,`${e}-code-verifier`,s);const a=await mg(n);return[a,n===a?"plain":"s256"]}const gg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vg(r){const e=r.headers.get(Sa);if(!e||!e.match(gg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yg(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function bg(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wg=globalThis&&globalThis.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const Gt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),_g=[502,503,504];async function Go(r){var e;if(!cg(r))throw new Ea(Gt(r),0);if(_g.includes(r.status))throw new Ea(Gt(r),r.status);let t;try{t=await r.json()}catch(a){throw new $l(Gt(a),a)}let n;const s=vg(r);if(s&&s.getTime()>=jl["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Wo(Gt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Wo(Gt(t),r.status,t.weak_password.reasons);throw new Jm(Gt(t),r.status||500,n)}const xg=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function ne(r,e,t,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Sa]||(a[Sa]=jl["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kg(r,e,t+i,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function kg(r,e,t,n,s,a){const o=xg(e,n,s,a);let i;try{i=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Ea(Gt(l),0)}if(i.ok||await Go(i),n!=null&&n.noResolveJson)return i;try{return await i.json()}catch(l){await Go(l)}}function At(r){var e;let t=null;Tg(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=og(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Ko(r){const e=At(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ot(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Sg(r){return{data:r,error:null}}function Eg(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:a}=r,o=wg(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:a},l=Object.assign({},o);return{data:{properties:i,user:l},error:null}}function Cg(r){return r}function Tg(r){return r.access_token&&r.refresh_token&&r.expires_in}var Rg=globalThis&&globalThis.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class Ag{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Ul(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ot})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Rg(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Eg,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(X(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ot})}catch(t){if(X(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,a,o,i,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Cg});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(X(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ot})}catch(t){if(X(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ot})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ot})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(X(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}}}const Ng={getItem:r=>an()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{an()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{an()&&globalThis.localStorage.removeItem(r)}};function Jo(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Pg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const lr={debug:!!(globalThis&&an()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Og extends Vl{}async function Ig(r,e,t){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Og(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(lr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Pg();const Mg={url:Zm,storageKey:qm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yo(r,e,t){return await t()}class hn{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hn.nextInstanceID,hn.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Mg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ag({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ul(s.fetch),this.lock=s.lock||Yo,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:lt()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Ig:this.lock=Yo,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:an()?this.storage=Ng:(this.memoryStorage={},this.storage=Jo(this.memoryStorage)):(this.memoryStorage={},this.storage=Jo(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=lg(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Qm(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return X(t)?{error:t}:{error:new $l("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:At}),{data:o,error:i}=a;if(i||!o)return{data:{user:null,session:null},error:i};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,s;try{let a;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await ir(this.storage,this.storageKey)),a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:At})}else if("phone"in e){const{phone:d,password:h,options:f}=e;a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:At})}else throw new zn("You must provide either an email or phone number and a password");const{data:o,error:i}=a;if(i||!o)return{data:{user:null,session:null},error:i};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:o,options:i}=e;t=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ko})}else if("phone"in e){const{phone:a,password:o,options:i}=e;t=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ko})}else throw new zn("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ys}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Zn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:a,error:o}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:At});if(await qn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(X(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:a,nonce:o}=e,i=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:At}),{data:l,error:c}=i;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ys}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,a,o;try{if("email"in e){const{email:i,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ir(this.storage,this.storageKey));const{error:h}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:i,options:l}=e,{data:c,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new zn("You must provide either an email or phone number.")}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:i}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:At});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ir(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Sg})}catch(a){if(X(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Rt;const{error:s}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(X(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:a}=e,{error:o}=await ne(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:a}=e,{data:o,error:i}=await ne(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:i}}throw new zn("You must provide either an email or phone number and a type")}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Js:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ot}):await this._useSession(async t=>{var n,s,a;const{data:o,error:i}=t;if(i)throw i;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ot})})}catch(t){if(X(t))return Xm(t)&&(await this._removeSession(),await qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Rt;const o=s.session;let i=null,l=null;this.flowType==="pkce"&&e.email!=null&&([i,l]=await ir(this.storage,this.storageKey));const{data:c,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:l}),jwt:o.access_token,xform:Ot});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const t=Date.now()/1e3;let n=t,s=!0,a=null;const{payload:o}=Qs(e.access_token);if(o.exp&&(n=o.exp,s=n<=t),s){const{session:i,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!i)return{data:{user:null,session:null},error:null};a=i}else{const{data:i,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:i.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(X(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:i}=t;if(i)throw i;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!lt())throw new Wn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new zo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zo("No code detected.");const{data:x,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:i,expires_at:l,token_type:c}=e;if(!a||!i||!o||!c)throw new Wn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(i);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const _={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:a}=t;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:i}=await this.admin.signOut(o,e);if(i&&!(Ym(i)&&(i.status===404||i.status===401||i.status===403)))return{error:i}}return e!=="others"&&(await this._removeSession(),await qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=ig(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:a},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ir(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(X(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async a=>{var o,i,l,c,d;const{data:h,error:f}=a;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return lt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(X(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:a,error:o}=t;if(o)throw o;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(X(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await ug(async s=>(s>0&&await dg(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:At})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Xs(a)&&Date.now()+o-n<pr})}catch(n){if(this._debug(t,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),lt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Zn(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Js;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Js}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Xs(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ps;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Rt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const i={session:a.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(a){if(this._debug(s,"error",a),X(a)){const o={session:null,error:a};return Xs(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(e,t)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let i=0;i<a.length;i+=1)console.error(a[i]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await qn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pr}ms, refresh threshold is ${ka} ticks`),s<=ka&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ir(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(i.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:a}=t;return a?{data:null,error:a}:await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(X(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:a,error:o}=t;if(o)return{data:null,error:o};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(X(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:a}=t;if(a)return{data:null,error:a};const{data:o,error:i}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:i})})}catch(t){if(X(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:a}=t;return a?{data:null,error:a}:await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(X(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Qs(s.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Km>Date.now()))return n;const{data:s,error:a}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new sn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new sn("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:a,signature:o,raw:{header:i,payload:l}}=Qs(n);if(yg(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:s,signature:o},error:null}}const c=bg(s.alg),d=await this.fetchJwk(s.kid,t),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,ag(`${i}.${l}`)))throw new sn("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}hn.nextInstanceID=0;const Dg=hn;class jg extends Dg{constructor(e){super(e)}}var $g=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function i(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):s(d.value).then(i,l)}c((n=n.apply(r,e||[])).next())})};class Lg{constructor(e,t,n){var s,a,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=zm(e);this.realtimeUrl=`${i}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,this.functionsUrl=`${i}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Dm,realtime:$m,auth:Object.assign(Object.assign({},jm),{storageKey:l}),global:Mm},d=Wm(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Vm(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new rm(`${i}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Op(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pm(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return $g(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:i,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jg({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:o,lock:i,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vm(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ug=(r,e,t)=>new Lg(r,e,t),Fg="https://iuuvznrtfrlgmrplnudw.supabase.co",Vg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1dXZ6bnJ0ZnJsZ21ycGxudWR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMyNDMxMzEsImV4cCI6MjA1ODgxOTEzMX0._RhJoajxHSL8bYJdnmNI-c5cROf_Wl_SjcHJhqP01bo",vt=Ug(Fg,Vg,{auth:{autoRefreshToken:!0,persistSession:!0,storage:localStorage},global:{fetch:(r,e={})=>fetch(r,{...e,headers:{...e.headers,"Access-Control-Allow-Origin":"*"}})}}),Bl=p.createContext(void 0),Bg=5*60*1e3,zg="fluid-docs-auth-state",Wg=({children:r})=>{const[e,t]=p.useState(null),[n,s]=p.useState(null),[a,o]=p.useState(!0),{toast:i}=$a(),l=$r(),c=kt(),d=p.useCallback(async()=>{var g;try{const{data:y,error:_}=await vt.auth.refreshSession();if(_)throw _;s(y.session),t(((g=y.session)==null?void 0:g.user)??null)}catch(y){console.error("Failed to refresh session:",y),s(null),t(null)}},[]);p.useEffect(()=>{if(n!=null&&n.expires_at){const y=n.expires_at*1e3-Date.now()-Bg;if(y<=0){d();return}const _=setTimeout(d,y);return()=>clearTimeout(_)}},[n,d]),p.useEffect(()=>{const{data:{subscription:g}}=vt.auth.onAuthStateChange((y,_)=>{console.log("Auth state changed:",y),s(_),t((_==null?void 0:_.user)??null),_!=null&&_.user&&y==="SIGNED_IN"&&setTimeout(()=>{c.pathname!=="/workspaces"&&c.pathname!=="/"&&l("/workspaces")},0)});return vt.auth.getSession().then(({data:{session:y}})=>{console.log("Retrieved session:",y?"exists":"none"),s(y),t((y==null?void 0:y.user)??null),o(!1)}),()=>{g.unsubscribe()}},[l,c.pathname]);const w={user:e,session:n,isLoading:a,signIn:async(g,y)=>{var _;try{o(!0);const{error:x,data:E}=await vt.auth.signInWithPassword({email:g,password:y});if(x)throw x;i({title:"Successfully signed in",description:"Welcome back!"}),console.log("Sign in successful:",(_=E.user)==null?void 0:_.email)}catch(x){throw console.error("Sign in failed:",x.message),i({title:"Sign in failed",description:x.message||"Please check your credentials and try again",variant:"destructive"}),x}finally{o(!1)}},signUp:async(g,y)=>{var _,x,E;try{o(!0),console.log("Starting signup process...",{url:vt.supabaseUrl,hasKey:!!vt.supabaseKey});const{error:A}=await vt.from("_heartbeat").select("*").limit(1);if(A)throw console.error("Connection test failed:",A),new Error("Unable to connect to the server. Please check your internet connection.");const{error:C,data:H}=await vt.auth.signUp({email:g,password:y,options:{emailRedirectTo:`${window.location.origin}/auth`}});if(console.log("Signup response:",{error:C,data:H}),C)throw console.error("Signup error details:",{message:C.message,status:C.status,name:C.name}),C;if(((x=(_=H==null?void 0:H.user)==null?void 0:_.identities)==null?void 0:x.length)===0)throw new Error("Email already registered");return i({title:"Account created",description:"Please check your email to confirm your account"}),console.log("Sign up successful:",(E=H.user)==null?void 0:E.email),H}catch(A){console.error("Sign up failed:",{message:A.message,stack:A.stack,details:A});const C=A.message==="Email already registered"?"This email is already registered. Please try signing in instead.":A.message||"An error occurred during signup";throw i({title:"Sign up failed",description:C,variant:"destructive"}),A}finally{o(!1)}},signOut:async()=>{try{o(!0);const{error:g}=await vt.auth.signOut();if(g)throw g;localStorage.removeItem(zg),i({title:"Signed out",description:"You have been signed out successfully"}),l("/auth")}catch(g){console.error("Sign out failed:",g.message),i({title:"Sign out failed",description:g.message||"An error occurred during sign out",variant:"destructive"})}finally{o(!1)}},refreshSession:d};return u(Bl.Provider,{value:w,children:r})},In=()=>{const r=p.useContext(Bl);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},Zg=La("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=p.forwardRef(({className:r,variant:e,size:t,asChild:n=!1,...s},a)=>u(n?Da:"button",{className:re(Zg({variant:e,size:t,className:r})),ref:a,...s}));de.displayName="Button";var Ka="Avatar",[qg,E0]=xs(Ka),[Hg,zl]=qg(Ka),Wl=p.forwardRef((r,e)=>{const{__scopeAvatar:t,...n}=r,[s,a]=p.useState("idle");return u(Hg,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:u(Oe.span,{...n,ref:e})})});Wl.displayName=Ka;var Zl="AvatarImage",ql=p.forwardRef((r,e)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:s=()=>{},...a}=r,o=zl(Zl,t),i=Gg(n,a.referrerPolicy),l=Ge(c=>{s(c),o.onImageLoadingStatusChange(c)});return ja(()=>{i!=="idle"&&l(i)},[i,l]),i==="loaded"?u(Oe.img,{...a,ref:e,src:n}):null});ql.displayName=Zl;var Hl="AvatarFallback",Gl=p.forwardRef((r,e)=>{const{__scopeAvatar:t,delayMs:n,...s}=r,a=zl(Hl,t),[o,i]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&a.imageLoadingStatus!=="loaded"?u(Oe.span,{...s,ref:e}):null});Gl.displayName=Hl;function Gg(r,e){const[t,n]=p.useState("idle");return ja(()=>{if(!r){n("error");return}let s=!0;const a=new window.Image,o=i=>()=>{s&&n(i)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=r,e&&(a.referrerPolicy=e),()=>{s=!1}},[r,e]),t}var Kl=Wl,Jl=ql,Yl=Gl;const Xl=p.forwardRef(({className:r,...e},t)=>u(Kl,{ref:t,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...e}));Xl.displayName=Kl.displayName;const Ql=p.forwardRef(({className:r,...e},t)=>u(Jl,{ref:t,className:re("aspect-square h-full w-full",r),...e}));Ql.displayName=Jl.displayName;const ec=p.forwardRef(({className:r,...e},t)=>u(Yl,{ref:t,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...e}));ec.displayName=Yl.displayName;var ea=0;function Kg(){p.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Xo()),document.body.insertAdjacentElement("beforeend",r[1]??Xo()),ea++,()=>{ea===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ea--}},[])}function Xo(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var ta="focusScope.autoFocusOnMount",ra="focusScope.autoFocusOnUnmount",Qo={bubbles:!1,cancelable:!0},Jg="FocusScope",tc=p.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=r,[i,l]=p.useState(null),c=Ge(s),d=Ge(a),h=p.useRef(null),f=Ye(e,g=>l(g)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(E){if(v.paused||!i)return;const A=E.target;i.contains(A)?h.current=A:Nt(h.current,{select:!0})},y=function(E){if(v.paused||!i)return;const A=E.relatedTarget;A!==null&&(i.contains(A)||Nt(h.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&Nt(i)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(_);return i&&x.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[n,i,v.paused]),p.useEffect(()=>{if(i){ti.add(v);const g=document.activeElement;if(!i.contains(g)){const _=new CustomEvent(ta,Qo);i.addEventListener(ta,c),i.dispatchEvent(_),_.defaultPrevented||(Yg(rv(rc(i)),{select:!0}),document.activeElement===g&&Nt(i))}return()=>{i.removeEventListener(ta,c),setTimeout(()=>{const _=new CustomEvent(ra,Qo);i.addEventListener(ra,d),i.dispatchEvent(_),_.defaultPrevented||Nt(g??document.body,{select:!0}),i.removeEventListener(ra,d),ti.remove(v)},0)}}},[i,c,d,v]);const w=p.useCallback(g=>{if(!t&&!n||v.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(y&&_){const x=g.currentTarget,[E,A]=Xg(x);E&&A?!g.shiftKey&&_===A?(g.preventDefault(),t&&Nt(E,{select:!0})):g.shiftKey&&_===E&&(g.preventDefault(),t&&Nt(A,{select:!0})):_===x&&g.preventDefault()}},[t,n,v.paused]);return u(Oe.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});tc.displayName=Jg;function Yg(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(Nt(n,{select:e}),document.activeElement!==t)return}function Xg(r){const e=rc(r),t=ei(e,r),n=ei(e.reverse(),r);return[t,n]}function rc(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ei(r,e){for(const t of r)if(!Qg(t,{upTo:e}))return t}function Qg(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function ev(r){return r instanceof HTMLInputElement&&"select"in r}function Nt(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&ev(r)&&e&&r.select()}}var ti=tv();function tv(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=ri(r,e),r.unshift(e)},remove(e){var t;r=ri(r,e),(t=r[0])==null||t.resume()}}}function ri(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function rv(r){return r.filter(e=>e.tagName!=="A")}var nv=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},cr=new WeakMap,Hn=new WeakMap,Gn={},na=0,nc=function(r){return r&&(r.host||nc(r.parentNode))},sv=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=nc(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},av=function(r,e,t,n){var s=sv(e,Array.isArray(r)?r:[r]);Gn[t]||(Gn[t]=new WeakMap);var a=Gn[t],o=[],i=new Set,l=new Set(s),c=function(h){!h||i.has(h)||(i.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(i.has(f))d(f);else try{var v=f.getAttribute(n),w=v!==null&&v!=="false",g=(cr.get(f)||0)+1,y=(a.get(f)||0)+1;cr.set(f,g),a.set(f,y),o.push(f),g===1&&w&&Hn.set(f,!0),y===1&&f.setAttribute(t,"true"),w||f.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),i.clear(),na++,function(){o.forEach(function(h){var f=cr.get(h)-1,v=a.get(h)-1;cr.set(h,f),a.set(h,v),f||(Hn.has(h)||h.removeAttribute(n),Hn.delete(h)),v||h.removeAttribute(t)}),na--,na||(cr=new WeakMap,cr=new WeakMap,Hn=new WeakMap,Gn={})}},ov=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),s=e||nv(r);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),av(n,s,t,"aria-hidden")):function(){return null}},ct=function(){return ct=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ct.apply(this,arguments)};function sc(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t}function iv(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var es="right-scroll-bar-position",ts="width-before-scroll-bar",lv="with-scroll-bars-hidden",cv="--removed-body-scroll-bar-size";function sa(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function dv(r,e){var t=p.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var s=t.value;s!==n&&(t.value=n,t.callback(n,s))}}}})[0];return t.callback=e,t.facade}var uv=typeof window<"u"?p.useLayoutEffect:p.useEffect,ni=new WeakMap;function hv(r,e){var t=dv(e||null,function(n){return r.forEach(function(s){return sa(s,n)})});return uv(function(){var n=ni.get(t);if(n){var s=new Set(n),a=new Set(r),o=t.current;s.forEach(function(i){a.has(i)||sa(i,null)}),a.forEach(function(i){s.has(i)||sa(i,o)})}ni.set(t,r)},[r]),t}function fv(r){return r}function pv(r,e){e===void 0&&(e=fv);var t=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(a){var o=e(a,n);return t.push(o),function(){t=t.filter(function(i){return i!==o})}},assignSyncMedium:function(a){for(n=!0;t.length;){var o=t;t=[],o.forEach(a)}t={push:function(i){return a(i)},filter:function(){return t}}},assignMedium:function(a){n=!0;var o=[];if(t.length){var i=t;t=[],i.forEach(a),o=t}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),t}}}};return s}function mv(r){r===void 0&&(r={});var e=pv(null);return e.options=ct({async:!0,ssr:!1},r),e}var ac=function(r){var e=r.sideCar,t=sc(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,ct({},t))};ac.isSideCarExport=!0;function gv(r,e){return r.useMedium(e),ac}var oc=mv(),aa=function(){},Os=p.forwardRef(function(r,e){var t=p.useRef(null),n=p.useState({onScrollCapture:aa,onWheelCapture:aa,onTouchMoveCapture:aa}),s=n[0],a=n[1],o=r.forwardProps,i=r.children,l=r.className,c=r.removeScrollBar,d=r.enabled,h=r.shards,f=r.sideCar,v=r.noIsolation,w=r.inert,g=r.allowPinchZoom,y=r.as,_=y===void 0?"div":y,x=r.gapMode,E=sc(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,C=hv([t,e]),H=ct(ct({},E),s);return p.createElement(p.Fragment,null,d&&p.createElement(A,{sideCar:oc,removeScrollBar:c,shards:h,noIsolation:v,inert:w,setCallbacks:a,allowPinchZoom:!!g,lockRef:t,gapMode:x}),o?p.cloneElement(p.Children.only(i),ct(ct({},H),{ref:C})):p.createElement(_,ct({},H,{className:l,ref:C}),i))});Os.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Os.classNames={fullWidth:ts,zeroRight:es};var si,vv=function(){if(si)return si;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yv(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=vv();return e&&r.setAttribute("nonce",e),r}function bv(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function wv(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var _v=function(){var r=0,e=null;return{add:function(t){r==0&&(e=yv())&&(bv(e,t),wv(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xv=function(){var r=_v();return function(e,t){p.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},ic=function(){var r=xv(),e=function(t){var n=t.styles,s=t.dynamic;return r(n,s),null};return e},kv={left:0,top:0,right:0,gap:0},oa=function(r){return parseInt(r||"",10)||0},Sv=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],s=e[r==="padding"?"paddingRight":"marginRight"];return[oa(t),oa(n),oa(s)]},Ev=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return kv;var e=Sv(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},Cv=ic(),br="data-scroll-locked",Tv=function(r,e,t,n){var s=r.left,a=r.top,o=r.right,i=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(lv,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(br,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(es,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(ts,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(es," .").concat(es,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ts," .").concat(ts,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(br,`] {
    `).concat(cv,": ").concat(i,`px;
  }
`)},ai=function(){var r=parseInt(document.body.getAttribute(br)||"0",10);return isFinite(r)?r:0},Rv=function(){p.useEffect(function(){return document.body.setAttribute(br,(ai()+1).toString()),function(){var r=ai()-1;r<=0?document.body.removeAttribute(br):document.body.setAttribute(br,r.toString())}},[])},Av=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,s=n===void 0?"margin":n;Rv();var a=p.useMemo(function(){return Ev(s)},[s]);return p.createElement(Cv,{styles:Tv(a,!e,s,t?"":"!important")})},Ca=!1;if(typeof window<"u")try{var Kn=Object.defineProperty({},"passive",{get:function(){return Ca=!0,!0}});window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Ca=!1}var dr=Ca?{passive:!1}:!1,Nv=function(r){return r.tagName==="TEXTAREA"},lc=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Nv(r)&&t[e]==="visible")},Pv=function(r){return lc(r,"overflowY")},Ov=function(r){return lc(r,"overflowX")},oi=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=cc(r,n);if(s){var a=dc(r,n),o=a[1],i=a[2];if(o>i)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},Iv=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},Mv=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},cc=function(r,e){return r==="v"?Pv(e):Ov(e)},dc=function(r,e){return r==="v"?Iv(e):Mv(e)},Dv=function(r,e){return r==="h"&&e==="rtl"?-1:1},jv=function(r,e,t,n,s){var a=Dv(r,window.getComputedStyle(e).direction),o=a*n,i=t.target,l=e.contains(i),c=!1,d=o>0,h=0,f=0;do{var v=dc(r,i),w=v[0],g=v[1],y=v[2],_=g-y-a*w;(w||_)&&cc(r,i)&&(h+=_,f+=w),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!l&&i!==document.body||l&&(e.contains(i)||e===i));return(d&&(s&&Math.abs(h)<1||!s&&o>h)||!d&&(s&&Math.abs(f)<1||!s&&-o>f))&&(c=!0),c},Jn=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},ii=function(r){return[r.deltaX,r.deltaY]},li=function(r){return r&&"current"in r?r.current:r},$v=function(r,e){return r[0]===e[0]&&r[1]===e[1]},Lv=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},Uv=0,ur=[];function Fv(r){var e=p.useRef([]),t=p.useRef([0,0]),n=p.useRef(),s=p.useState(Uv++)[0],a=p.useState(ic)[0],o=p.useRef(r);p.useEffect(function(){o.current=r},[r]),p.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(s));var g=iv([r.lockRef.current],(r.shards||[]).map(li),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[r.inert,r.lockRef.current,r.shards]);var i=p.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=Jn(g),x=t.current,E="deltaX"in g?g.deltaX:x[0]-_[0],A="deltaY"in g?g.deltaY:x[1]-_[1],C,H=g.target,se=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in g&&se==="h"&&H.type==="range")return!1;var ie=oi(se,H);if(!ie)return!0;if(ie?C=se:(C=se==="v"?"h":"v",ie=oi(se,H)),!ie)return!1;if(!n.current&&"changedTouches"in g&&(E||A)&&(n.current=C),!C)return!0;var O=n.current||C;return jv(O,y,g,O==="h"?E:A,!0)},[]),l=p.useCallback(function(g){var y=g;if(!(!ur.length||ur[ur.length-1]!==a)){var _="deltaY"in y?ii(y):Jn(y),x=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&$v(C.delta,_)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var E=(o.current.shards||[]).map(li).filter(Boolean).filter(function(C){return C.contains(y.target)}),A=E.length>0?i(y,E[0]):!o.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),c=p.useCallback(function(g,y,_,x){var E={name:g,delta:y,target:_,should:x,shadowParent:Vv(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),d=p.useCallback(function(g){t.current=Jn(g),n.current=void 0},[]),h=p.useCallback(function(g){c(g.type,ii(g),g.target,i(g,r.lockRef.current))},[]),f=p.useCallback(function(g){c(g.type,Jn(g),g.target,i(g,r.lockRef.current))},[]);p.useEffect(function(){return ur.push(a),r.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,dr),document.addEventListener("touchmove",l,dr),document.addEventListener("touchstart",d,dr),function(){ur=ur.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,dr),document.removeEventListener("touchmove",l,dr),document.removeEventListener("touchstart",d,dr)}},[]);var v=r.removeScrollBar,w=r.inert;return p.createElement(p.Fragment,null,w?p.createElement(a,{styles:Lv(s)}):null,v?p.createElement(Av,{gapMode:r.gapMode}):null)}function Vv(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const Bv=gv(oc,Fv);var uc=p.forwardRef(function(r,e){return p.createElement(Os,ct({},r,{ref:e,sideCar:Bv}))});uc.classNames=Os.classNames;const zv=uc;var Ta=["Enter"," "],Wv=["ArrowDown","PageUp","Home"],hc=["ArrowUp","PageDown","End"],Zv=[...Wv,...hc],qv={ltr:[...Ta,"ArrowRight"],rtl:[...Ta,"ArrowLeft"]},Hv={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mn="Menu",[fn,Gv,Kv]=_u(Mn),[rr,fc]=xs(Mn,[Kv,Oi,Ii]),Is=Oi(),pc=Ii(),[Jv,nr]=rr(Mn),[Yv,Dn]=rr(Mn),mc=r=>{const{__scopeMenu:e,open:t=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=r,i=Is(e),[l,c]=p.useState(null),d=p.useRef(!1),h=Ge(a),f=Di(s);return p.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),u(Nu,{...i,children:u(Jv,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:c,children:u(Yv,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};mc.displayName=Mn;var Xv="MenuAnchor",Ja=p.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r,s=Is(t);return u(xu,{...s,...n,ref:e})});Ja.displayName=Xv;var Ya="MenuPortal",[Qv,gc]=rr(Ya,{forceMount:void 0}),vc=r=>{const{__scopeMenu:e,forceMount:t,children:n,container:s}=r,a=nr(Ya,e);return u(Qv,{scope:e,forceMount:t,children:u(Vt,{present:t||a.open,children:u(Au,{asChild:!0,container:s,children:n})})})};vc.displayName=Ya;var Ke="MenuContent",[ey,Xa]=rr(Ke),yc=p.forwardRef((r,e)=>{const t=gc(Ke,r.__scopeMenu),{forceMount:n=t.forceMount,...s}=r,a=nr(Ke,r.__scopeMenu),o=Dn(Ke,r.__scopeMenu);return u(fn.Provider,{scope:r.__scopeMenu,children:u(Vt,{present:n||a.open,children:u(fn.Slot,{scope:r.__scopeMenu,children:o.modal?u(ty,{...s,ref:e}):u(ry,{...s,ref:e})})})})}),ty=p.forwardRef((r,e)=>{const t=nr(Ke,r.__scopeMenu),n=p.useRef(null),s=Ye(e,n);return p.useEffect(()=>{const a=n.current;if(a)return ov(a)},[]),u(Qa,{...r,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:oe(r.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),ry=p.forwardRef((r,e)=>{const t=nr(Ke,r.__scopeMenu);return u(Qa,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Qa=p.forwardRef((r,e)=>{const{__scopeMenu:t,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:v,disableOutsideScroll:w,...g}=r,y=nr(Ke,t),_=Dn(Ke,t),x=Is(t),E=pc(t),A=Gv(t),[C,H]=p.useState(null),se=p.useRef(null),ie=Ye(e,se,y.onContentChange),O=p.useRef(0),Z=p.useRef(""),le=p.useRef(0),M=p.useRef(null),W=p.useRef("right"),ee=p.useRef(0),pe=w?zv:p.Fragment,me=w?{as:Da,allowPinchZoom:!0}:void 0,xe=L=>{var Ve,qe;const ye=Z.current+L,V=A().filter(Ae=>!Ae.disabled),te=document.activeElement,he=(Ve=V.find(Ae=>Ae.ref.current===te))==null?void 0:Ve.textValue,Pe=V.map(Ae=>Ae.textValue),Ze=py(Pe,ye,he),fe=(qe=V.find(Ae=>Ae.textValue===Ze))==null?void 0:qe.ref.current;(function Ae(st){Z.current=st,window.clearTimeout(O.current),st!==""&&(O.current=window.setTimeout(()=>Ae(""),1e3))})(ye),fe&&setTimeout(()=>fe.focus())};p.useEffect(()=>()=>window.clearTimeout(O.current),[]),Kg();const q=p.useCallback(L=>{var V,te;return W.current===((V=M.current)==null?void 0:V.side)&&gy(L,(te=M.current)==null?void 0:te.area)},[]);return u(ey,{scope:t,searchRef:Z,onItemEnter:p.useCallback(L=>{q(L)&&L.preventDefault()},[q]),onItemLeave:p.useCallback(L=>{var ye;q(L)||((ye=se.current)==null||ye.focus(),H(null))},[q]),onTriggerLeave:p.useCallback(L=>{q(L)&&L.preventDefault()},[q]),pointerGraceTimerRef:le,onPointerGraceIntentChange:p.useCallback(L=>{M.current=L},[]),children:u(pe,{...me,children:u(tc,{asChild:!0,trapped:s,onMountAutoFocus:oe(a,L=>{var ye;L.preventDefault(),(ye=se.current)==null||ye.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u(ku,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:v,children:u(Su,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:H,onEntryFocus:oe(l,L=>{_.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:u(Eu,{role:"menu","aria-orientation":"vertical","data-state":Mc(y.open),"data-radix-menu-content":"",dir:_.dir,...x,...g,ref:ie,style:{outline:"none",...g.style},onKeyDown:oe(g.onKeyDown,L=>{const V=L.target.closest("[data-radix-menu-content]")===L.currentTarget,te=L.ctrlKey||L.altKey||L.metaKey,he=L.key.length===1;V&&(L.key==="Tab"&&L.preventDefault(),!te&&he&&xe(L.key));const Pe=se.current;if(L.target!==Pe||!Zv.includes(L.key))return;L.preventDefault();const fe=A().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);hc.includes(L.key)&&fe.reverse(),hy(fe)}),onBlur:oe(r.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(O.current),Z.current="")}),onPointerMove:oe(r.onPointerMove,pn(L=>{const ye=L.target,V=ee.current!==L.clientX;if(L.currentTarget.contains(ye)&&V){const te=L.clientX>ee.current?"right":"left";W.current=te,ee.current=L.clientX}}))})})})})})})});yc.displayName=Ke;var ny="MenuGroup",eo=p.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return u(Oe.div,{role:"group",...n,ref:e})});eo.displayName=ny;var sy="MenuLabel",bc=p.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return u(Oe.div,{...n,ref:e})});bc.displayName=sy;var is="MenuItem",ci="menu.itemSelect",Ms=p.forwardRef((r,e)=>{const{disabled:t=!1,onSelect:n,...s}=r,a=p.useRef(null),o=Dn(is,r.__scopeMenu),i=Xa(is,r.__scopeMenu),l=Ye(e,a),c=p.useRef(!1),d=()=>{const h=a.current;if(!t&&h){const f=new CustomEvent(ci,{bubbles:!0,cancelable:!0});h.addEventListener(ci,v=>n==null?void 0:n(v),{once:!0}),Ru(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return u(wc,{...s,ref:l,disabled:t,onClick:oe(r.onClick,d),onPointerDown:h=>{var f;(f=r.onPointerDown)==null||f.call(r,h),c.current=!0},onPointerUp:oe(r.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:oe(r.onKeyDown,h=>{const f=i.searchRef.current!=="";t||f&&h.key===" "||Ta.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ms.displayName=is;var wc=p.forwardRef((r,e)=>{const{__scopeMenu:t,disabled:n=!1,textValue:s,...a}=r,o=Xa(is,t),i=pc(t),l=p.useRef(null),c=Ye(e,l),[d,h]=p.useState(!1),[f,v]=p.useState("");return p.useEffect(()=>{const w=l.current;w&&v((w.textContent??"").trim())},[a.children]),u(fn.ItemSlot,{scope:t,disabled:n,textValue:s??f,children:u(Cu,{asChild:!0,...i,focusable:!n,children:u(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:oe(r.onPointerMove,pn(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(r.onPointerLeave,pn(w=>o.onItemLeave(w))),onFocus:oe(r.onFocus,()=>h(!0)),onBlur:oe(r.onBlur,()=>h(!1))})})})}),ay="MenuCheckboxItem",_c=p.forwardRef((r,e)=>{const{checked:t=!1,onCheckedChange:n,...s}=r;return u(Cc,{scope:r.__scopeMenu,checked:t,children:u(Ms,{role:"menuitemcheckbox","aria-checked":ls(t)?"mixed":t,...s,ref:e,"data-state":ro(t),onSelect:oe(s.onSelect,()=>n==null?void 0:n(ls(t)?!0:!t),{checkForDefaultPrevented:!1})})})});_c.displayName=ay;var xc="MenuRadioGroup",[oy,iy]=rr(xc,{value:void 0,onValueChange:()=>{}}),kc=p.forwardRef((r,e)=>{const{value:t,onValueChange:n,...s}=r,a=Ge(n);return u(oy,{scope:r.__scopeMenu,value:t,onValueChange:a,children:u(eo,{...s,ref:e})})});kc.displayName=xc;var Sc="MenuRadioItem",Ec=p.forwardRef((r,e)=>{const{value:t,...n}=r,s=iy(Sc,r.__scopeMenu),a=t===s.value;return u(Cc,{scope:r.__scopeMenu,checked:a,children:u(Ms,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":ro(a),onSelect:oe(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,t)},{checkForDefaultPrevented:!1})})})});Ec.displayName=Sc;var to="MenuItemIndicator",[Cc,ly]=rr(to,{checked:!1}),Tc=p.forwardRef((r,e)=>{const{__scopeMenu:t,forceMount:n,...s}=r,a=ly(to,t);return u(Vt,{present:n||ls(a.checked)||a.checked===!0,children:u(Oe.span,{...s,ref:e,"data-state":ro(a.checked)})})});Tc.displayName=to;var cy="MenuSeparator",Rc=p.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r;return u(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Rc.displayName=cy;var dy="MenuArrow",Ac=p.forwardRef((r,e)=>{const{__scopeMenu:t,...n}=r,s=Is(t);return u(Tu,{...s,...n,ref:e})});Ac.displayName=dy;var uy="MenuSub",[C0,Nc]=rr(uy),Qr="MenuSubTrigger",Pc=p.forwardRef((r,e)=>{const t=nr(Qr,r.__scopeMenu),n=Dn(Qr,r.__scopeMenu),s=Nc(Qr,r.__scopeMenu),a=Xa(Qr,r.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=a,c={__scopeMenu:r.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=i.current;return()=>{window.clearTimeout(h),l(null)}},[i,l]),u(Ja,{asChild:!0,...c,children:u(wc,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Mc(t.open),...r,ref:Mi(e,s.onTriggerChange),onClick:h=>{var f;(f=r.onClick)==null||f.call(r,h),!(r.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:oe(r.onPointerMove,pn(h=>{a.onItemEnter(h),!h.defaultPrevented&&!r.disabled&&!t.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:oe(r.onPointerLeave,pn(h=>{var v,w;d();const f=(v=t.content)==null?void 0:v.getBoundingClientRect();if(f){const g=(w=t.content)==null?void 0:w.dataset.side,y=g==="right",_=y?-5:5,x=f[y?"left":"right"],E=f[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x,y:f.top},{x:E,y:f.top},{x:E,y:f.bottom},{x,y:f.bottom}],side:g}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:oe(r.onKeyDown,h=>{var v;const f=a.searchRef.current!=="";r.disabled||f&&h.key===" "||qv[n.dir].includes(h.key)&&(t.onOpenChange(!0),(v=t.content)==null||v.focus(),h.preventDefault())})})})});Pc.displayName=Qr;var Oc="MenuSubContent",Ic=p.forwardRef((r,e)=>{const t=gc(Ke,r.__scopeMenu),{forceMount:n=t.forceMount,...s}=r,a=nr(Ke,r.__scopeMenu),o=Dn(Ke,r.__scopeMenu),i=Nc(Oc,r.__scopeMenu),l=p.useRef(null),c=Ye(e,l);return u(fn.Provider,{scope:r.__scopeMenu,children:u(Vt,{present:n||a.open,children:u(fn.Slot,{scope:r.__scopeMenu,children:u(Qa,{id:i.contentId,"aria-labelledby":i.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(r.onFocusOutside,d=>{d.target!==i.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:oe(r.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:oe(r.onKeyDown,d=>{var v;const h=d.currentTarget.contains(d.target),f=Hv[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(v=i.trigger)==null||v.focus(),d.preventDefault())})})})})})});Ic.displayName=Oc;function Mc(r){return r?"open":"closed"}function ls(r){return r==="indeterminate"}function ro(r){return ls(r)?"indeterminate":r?"checked":"unchecked"}function hy(r){const e=document.activeElement;for(const t of r)if(t===e||(t.focus(),document.activeElement!==e))return}function fy(r,e){return r.map((t,n)=>r[(e+n)%r.length])}function py(r,e,t){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=t?r.indexOf(t):-1;let o=fy(r,Math.max(a,0));s.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==t?l:void 0}function my(r,e){const{x:t,y:n}=r;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const i=e[a].x,l=e[a].y,c=e[o].x,d=e[o].y;l>n!=d>n&&t<(c-i)*(n-l)/(d-l)+i&&(s=!s)}return s}function gy(r,e){if(!e)return!1;const t={x:r.clientX,y:r.clientY};return my(t,e)}function pn(r){return e=>e.pointerType==="mouse"?r(e):void 0}var vy=mc,yy=Ja,by=vc,wy=yc,_y=eo,xy=bc,ky=Ms,Sy=_c,Ey=kc,Cy=Ec,Ty=Tc,Ry=Rc,Ay=Ac,Ny=Pc,Py=Ic,no="DropdownMenu",[Oy,T0]=xs(no,[fc]),je=fc(),[Iy,Dc]=Oy(no),jc=r=>{const{__scopeDropdownMenu:e,children:t,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=r,l=je(e),c=p.useRef(null),[d=!1,h]=Pu({prop:s,defaultProp:a,onChange:o});return u(Iy,{scope:e,triggerId:yo(),triggerRef:c,contentId:yo(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:i,children:u(vy,{...l,open:d,onOpenChange:h,dir:n,modal:i,children:t})})};jc.displayName=no;var $c="DropdownMenuTrigger",Lc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,disabled:n=!1,...s}=r,a=Dc($c,t),o=je(t);return u(yy,{asChild:!0,...o,children:u(Oe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Mi(e,a.triggerRef),onPointerDown:oe(r.onPointerDown,i=>{!n&&i.button===0&&i.ctrlKey===!1&&(a.onOpenToggle(),a.open||i.preventDefault())}),onKeyDown:oe(r.onKeyDown,i=>{n||(["Enter"," "].includes(i.key)&&a.onOpenToggle(),i.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});Lc.displayName=$c;var My="DropdownMenuPortal",Uc=r=>{const{__scopeDropdownMenu:e,...t}=r,n=je(e);return u(by,{...n,...t})};Uc.displayName=My;var Fc="DropdownMenuContent",Vc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=Dc(Fc,t),a=je(t),o=p.useRef(!1);return u(wy,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:oe(r.onCloseAutoFocus,i=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,i.preventDefault()}),onInteractOutside:oe(r.onInteractOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vc.displayName=Fc;var Dy="DropdownMenuGroup",jy=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(_y,{...s,...n,ref:e})});jy.displayName=Dy;var $y="DropdownMenuLabel",Bc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(xy,{...s,...n,ref:e})});Bc.displayName=$y;var Ly="DropdownMenuItem",zc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(ky,{...s,...n,ref:e})});zc.displayName=Ly;var Uy="DropdownMenuCheckboxItem",Wc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Sy,{...s,...n,ref:e})});Wc.displayName=Uy;var Fy="DropdownMenuRadioGroup",Vy=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Ey,{...s,...n,ref:e})});Vy.displayName=Fy;var By="DropdownMenuRadioItem",Zc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Cy,{...s,...n,ref:e})});Zc.displayName=By;var zy="DropdownMenuItemIndicator",qc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Ty,{...s,...n,ref:e})});qc.displayName=zy;var Wy="DropdownMenuSeparator",Hc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Ry,{...s,...n,ref:e})});Hc.displayName=Wy;var Zy="DropdownMenuArrow",qy=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Ay,{...s,...n,ref:e})});qy.displayName=Zy;var Hy="DropdownMenuSubTrigger",Gc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Ny,{...s,...n,ref:e})});Gc.displayName=Hy;var Gy="DropdownMenuSubContent",Kc=p.forwardRef((r,e)=>{const{__scopeDropdownMenu:t,...n}=r,s=je(t);return u(Py,{...s,...n,ref:e,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Kc.displayName=Gy;var Ky=jc,Jy=Lc,Yy=Uc,Jc=Vc,Yc=Bc,Xc=zc,Qc=Wc,ed=Zc,td=qc,rd=Hc,nd=Gc,sd=Kc;const Xy=Ky,Qy=Jy,eb=p.forwardRef(({className:r,inset:e,children:t,...n},s)=>N(nd,{ref:s,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",r),...n,children:[t,u(qu,{className:"ml-auto h-4 w-4"})]}));eb.displayName=nd.displayName;const tb=p.forwardRef(({className:r,...e},t)=>u(sd,{ref:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...e}));tb.displayName=sd.displayName;const ad=p.forwardRef(({className:r,sideOffset:e=4,...t},n)=>u(Yy,{children:u(Jc,{ref:n,sideOffset:e,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t})}));ad.displayName=Jc.displayName;const rs=p.forwardRef(({className:r,inset:e,...t},n)=>u(Xc,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",r),...t}));rs.displayName=Xc.displayName;const rb=p.forwardRef(({className:r,children:e,checked:t,...n},s)=>N(Qc,{ref:s,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:t,...n,children:[u("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u(td,{children:u(Zu,{className:"h-4 w-4"})})}),e]}));rb.displayName=Qc.displayName;const nb=p.forwardRef(({className:r,children:e,...t},n)=>N(ed,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...t,children:[u("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u(td,{children:u(Zi,{className:"h-2 w-2 fill-current"})})}),e]}));nb.displayName=ed.displayName;const sb=p.forwardRef(({className:r,inset:e,...t},n)=>u(Yc,{ref:n,className:re("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",r),...t}));sb.displayName=Yc.displayName;const Ra=p.forwardRef(({className:r,...e},t)=>u(rd,{ref:t,className:re("-mx-1 my-1 h-px bg-muted",r),...e}));Ra.displayName=rd.displayName;const od=()=>{const{user:r,signOut:e}=In(),t=n=>n?n.charAt(0).toUpperCase():"U";return u("header",{className:"border-b bg-card",children:N("div",{className:"flex items-center justify-between px-4 py-2",children:[N("div",{className:"flex items-center",children:[N(Hr,{to:"/",className:"flex items-center space-x-2",children:[u(Nn,{className:"h-6 w-6 text-primary"}),u("span",{className:"font-bold text-lg",children:"FluidDocs"})]}),u("div",{className:"hidden md:flex ml-8 space-x-1",children:u(de,{variant:"ghost",asChild:!0,children:N(Hr,{to:"/workspaces",children:[u(qi,{className:"h-4 w-4 mr-2"}),"Workspaces"]})})})]}),u("div",{className:"flex items-center space-x-4",children:r?N(Xy,{children:[u(Qy,{asChild:!0,children:u(de,{variant:"ghost",className:"relative rounded-full h-8 w-8 p-0",children:N(Xl,{className:"h-8 w-8",children:[u(Ql,{src:"",alt:r.email||""}),u(ec,{children:t(r.email||"")})]})})}),N(ad,{align:"end",children:[u("div",{className:"flex items-center justify-start gap-2 p-2",children:u("div",{className:"flex flex-col space-y-1 leading-none",children:r.email&&u("p",{className:"font-medium",children:r.email})})}),u(Ra,{}),u(rs,{asChild:!0,children:N(Hr,{to:"/profile",className:"cursor-pointer flex w-full items-center",children:[u(ah,{className:"mr-2 h-4 w-4"}),u("span",{children:"Profile"})]})}),u(rs,{asChild:!0,children:N(Hr,{to:"/settings",className:"cursor-pointer flex w-full items-center",children:[u(rh,{className:"mr-2 h-4 w-4"}),u("span",{children:"Settings"})]})}),u(Ra,{}),N(rs,{onClick:()=>e(),className:"cursor-pointer",children:[u(Xu,{className:"mr-2 h-4 w-4"}),u("span",{children:"Log out"})]})]})]}):u(de,{asChild:!0,children:u(Hr,{to:"/auth",children:"Sign in"})})})]})})};function ab(r,[e,t]){return Math.min(t,Math.max(e,r))}function ob(r,e){return p.useReducer((t,n)=>e[t][n]??t,r)}var so="ScrollArea",[id,R0]=xs(so),[ib,Xe]=id(so),ld=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=r,[i,l]=p.useState(null),[c,d]=p.useState(null),[h,f]=p.useState(null),[v,w]=p.useState(null),[g,y]=p.useState(null),[_,x]=p.useState(0),[E,A]=p.useState(0),[C,H]=p.useState(!1),[se,ie]=p.useState(!1),O=Ye(e,le=>l(le)),Z=Di(s);return u(ib,{scope:t,type:n,dir:Z,scrollHideDelay:a,scrollArea:i,viewport:c,onViewportChange:d,content:h,onContentChange:f,scrollbarX:v,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:H,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:se,onScrollbarYEnabledChange:ie,onCornerWidthChange:x,onCornerHeightChange:A,children:u(Oe.div,{dir:Z,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":E+"px",...r.style}})})});ld.displayName=so;var cd="ScrollAreaViewport",dd=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,children:n,asChild:s,nonce:a,...o}=r,i=Xe(cd,t),l=p.useRef(null),c=Ye(e,l,i.onViewportChange);return N(ks,{children:[u("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),u(Oe.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...r.style},children:vb({asChild:s,children:n},d=>u("div",{"data-radix-scroll-area-content":"",ref:i.onContentChange,style:{minWidth:i.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});dd.displayName=cd;var mt="ScrollAreaScrollbar",ao=p.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=Xe(mt,r.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,i=r.orientation==="horizontal";return p.useEffect(()=>(i?a(!0):o(!0),()=>{i?a(!1):o(!1)}),[i,a,o]),s.type==="hover"?u(lb,{...n,ref:e,forceMount:t}):s.type==="scroll"?u(cb,{...n,ref:e,forceMount:t}):s.type==="auto"?u(ud,{...n,ref:e,forceMount:t}):s.type==="always"?u(oo,{...n,ref:e}):null});ao.displayName=mt;var lb=p.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=Xe(mt,r.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const i=s.scrollArea;let l=0;if(i){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return i.addEventListener("pointerenter",c),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),i.removeEventListener("pointerenter",c),i.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),u(Vt,{present:t||a,children:u(ud,{"data-state":a?"visible":"hidden",...n,ref:e})})}),cb=p.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=Xe(mt,r.__scopeScrollArea),a=r.orientation==="horizontal",o=js(()=>l("SCROLL_END"),100),[i,l]=ob("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(i==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[i,s.scrollHideDelay,l]),p.useEffect(()=>{const c=s.viewport,d=a?"scrollLeft":"scrollTop";if(c){let h=c[d];const f=()=>{const v=c[d];h!==v&&(l("SCROLL"),o()),h=v};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,a,l,o]),u(Vt,{present:t||i!=="hidden",children:u(oo,{"data-state":i==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:oe(r.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:oe(r.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ud=p.forwardRef((r,e)=>{const t=Xe(mt,r.__scopeScrollArea),{forceMount:n,...s}=r,[a,o]=p.useState(!1),i=r.orientation==="horizontal",l=js(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;o(i?c:d)}},10);return Ar(t.viewport,l),Ar(t.content,l),u(Vt,{present:n||a,children:u(oo,{"data-state":a?"visible":"hidden",...s,ref:e})})}),oo=p.forwardRef((r,e)=>{const{orientation:t="vertical",...n}=r,s=Xe(mt,r.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[i,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=gd(i.viewport,i.content),d={...n,sizes:i,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,v){return mb(f,o.current,i,v)}return t==="horizontal"?u(db,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,v=di(f,i,s.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):t==="vertical"?u(ub,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,v=di(f,i);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),db=p.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...s}=r,a=Xe(mt,r.__scopeScrollArea),[o,i]=p.useState(),l=p.useRef(null),c=Ye(e,l,a.onScrollbarXChange);return p.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),u(fd,{"data-orientation":"horizontal",...s,ref:c,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ds(t)+"px",...r.style},onThumbPointerDown:d=>r.onThumbPointerDown(d.x),onDragScroll:d=>r.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;r.onWheelScroll(f),yd(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ds(o.paddingLeft),paddingEnd:ds(o.paddingRight)}})}})}),ub=p.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...s}=r,a=Xe(mt,r.__scopeScrollArea),[o,i]=p.useState(),l=p.useRef(null),c=Ye(e,l,a.onScrollbarYChange);return p.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),u(fd,{"data-orientation":"vertical",...s,ref:c,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ds(t)+"px",...r.style},onThumbPointerDown:d=>r.onThumbPointerDown(d.y),onDragScroll:d=>r.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;r.onWheelScroll(f),yd(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ds(o.paddingTop),paddingEnd:ds(o.paddingBottom)}})}})}),[hb,hd]=id(mt),fd=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:i,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...f}=r,v=Xe(mt,t),[w,g]=p.useState(null),y=Ye(e,O=>g(O)),_=p.useRef(null),x=p.useRef(""),E=v.viewport,A=n.content-n.viewport,C=Ge(d),H=Ge(l),se=js(h,10);function ie(O){if(_.current){const Z=O.clientX-_.current.left,le=O.clientY-_.current.top;c({x:Z,y:le})}}return p.useEffect(()=>{const O=Z=>{const le=Z.target;(w==null?void 0:w.contains(le))&&C(Z,A)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[E,w,A,C]),p.useEffect(H,[n,H]),Ar(w,se),Ar(v.content,se),u(hb,{scope:t,scrollbar:w,hasThumb:s,onThumbChange:Ge(a),onThumbPointerUp:Ge(o),onThumbPositionChange:H,onThumbPointerDown:Ge(i),children:u(Oe.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:oe(r.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),_.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),ie(O))}),onPointerMove:oe(r.onPointerMove,ie),onPointerUp:oe(r.onPointerUp,O=>{const Z=O.target;Z.hasPointerCapture(O.pointerId)&&Z.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,v.viewport&&(v.viewport.style.scrollBehavior=""),_.current=null})})})}),cs="ScrollAreaThumb",pd=p.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=hd(cs,r.__scopeScrollArea);return u(Vt,{present:t||s.hasThumb,children:u(fb,{ref:e,...n})})}),fb=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,style:n,...s}=r,a=Xe(cs,t),o=hd(cs,t),{onThumbPositionChange:i}=o,l=Ye(e,h=>o.onThumbChange(h)),c=p.useRef(),d=js(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!c.current){const v=gb(h,i);c.current=v,i()}};return i(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,i]),u(Oe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:oe(r.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),w=h.clientX-v.left,g=h.clientY-v.top;o.onThumbPointerDown({x:w,y:g})}),onPointerUp:oe(r.onPointerUp,o.onThumbPointerUp)})});pd.displayName=cs;var io="ScrollAreaCorner",md=p.forwardRef((r,e)=>{const t=Xe(io,r.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?u(pb,{...r,ref:e}):null});md.displayName=io;var pb=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,...n}=r,s=Xe(io,t),[a,o]=p.useState(0),[i,l]=p.useState(0),c=!!(a&&i);return Ar(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ar(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),c?u(Oe.div,{...n,ref:e,style:{width:a,height:i,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function ds(r){return r?parseInt(r,10):0}function gd(r,e){const t=r/e;return isNaN(t)?0:t}function Ds(r){const e=gd(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-t)*e;return Math.max(n,18)}function mb(r,e,t,n="ltr"){const s=Ds(t),a=s/2,o=e||a,i=s-o,l=t.scrollbar.paddingStart+o,c=t.scrollbar.size-t.scrollbar.paddingEnd-i,d=t.content-t.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return vd([l,c],h)(r)}function di(r,e,t="ltr"){const n=Ds(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,i=a-n,l=t==="ltr"?[0,o]:[o*-1,0],c=ab(r,l);return vd([0,o],[0,i])(c)}function vd(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(r[1]-r[0]);return e[0]+n*(t-r[0])}}function yd(r,e){return r>0&&r<e}var gb=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},n=0;return function s(){const a={left:r.scrollLeft,top:r.scrollTop},o=t.left!==a.left,i=t.top!==a.top;(o||i)&&e(),t=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function js(r,e){const t=Ge(r),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,e)},[t,e])}function Ar(r,e){const t=Ge(e);ja(()=>{let n=0;if(r){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return s.observe(r),()=>{window.cancelAnimationFrame(n),s.unobserve(r)}}},[r,t])}function vb(r,e){const{asChild:t,children:n}=r;if(!t)return typeof e=="function"?e(n):e;const s=p.Children.only(n);return p.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var bd=ld,yb=dd,bb=md;const Nr=p.forwardRef(({className:r,children:e,...t},n)=>N(bd,{ref:n,className:re("relative overflow-hidden",r),...t,children:[u(yb,{className:"h-full w-full rounded-[inherit]",children:e}),u(wd,{}),u(bb,{})]}));Nr.displayName=bd.displayName;const wd=p.forwardRef(({className:r,orientation:e="vertical",...t},n)=>u(ao,{ref:n,orientation:e,className:re("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...t,children:u(pd,{className:"relative flex-1 rounded-full bg-border"})}));wd.displayName=ao.displayName;const Fr=p.forwardRef(({className:r,...e},t)=>u("div",{ref:t,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));Fr.displayName="Card";const _d=p.forwardRef(({className:r,...e},t)=>u("div",{ref:t,className:re("flex flex-col space-y-1.5 p-6",r),...e}));_d.displayName="CardHeader";const xd=p.forwardRef(({className:r,...e},t)=>u("h3",{ref:t,className:re("text-2xl font-semibold leading-none tracking-tight",r),...e}));xd.displayName="CardTitle";const kd=p.forwardRef(({className:r,...e},t)=>u("p",{ref:t,className:re("text-sm text-muted-foreground",r),...e}));kd.displayName="CardDescription";const Sd=p.forwardRef(({className:r,...e},t)=>u("div",{ref:t,className:re("p-6 pt-0",r),...e}));Sd.displayName="CardContent";const wb=p.forwardRef(({className:r,...e},t)=>u("div",{ref:t,className:re("flex items-center p-6 pt-0",r),...e}));wb.displayName="CardFooter";const wr=({title:r,isActive:e=!1})=>N(de,{variant:e?"secondary":"ghost",className:`w-full justify-start mb-1 ${e?"bg-accent/30":""}`,children:[u(Nn,{className:"mr-2 h-4 w-4"}),u("span",{className:"truncate",children:r})]}),ia=({name:r,isOpen:e=!1})=>N("div",{className:"mb-2",children:[N(de,{variant:"ghost",className:"w-full justify-start font-semibold",children:[u(Ju,{className:"mr-2 h-4 w-4"}),u("span",{children:r})]}),e&&N("div",{className:"ml-4 mt-1 border-l pl-3",children:[u(wr,{title:"Research Paper.pdf"}),u(wr,{title:"Meeting Notes.pdf"}),u(wr,{title:"Project Proposal.pdf",isActive:!0})]})]}),_b=()=>N("div",{className:"w-[250px] border-r bg-card h-full flex flex-col",children:[N("div",{className:"p-4 flex items-center justify-between",children:[u("h2",{className:"font-semibold",children:"Documents"}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u(Ji,{className:"h-4 w-4"})})]}),u(Nr,{className:"flex-1 px-3",children:N("div",{className:"pb-4",children:[N(Fr,{className:"p-3 mb-4 bg-accent/10 border border-accent/20",children:[u("h3",{className:"text-sm font-medium mb-2",children:"Recent Documents"}),u(wr,{title:"Research Paper.pdf"}),u(wr,{title:"Design Specs.pdf"}),u(wr,{title:"Annual Report.pdf"})]}),N("div",{className:"space-y-1",children:[u(ia,{name:"Research",isOpen:!0}),u(ia,{name:"Work"}),u(ia,{name:"Personal"})]})]})})]});class xb extends p.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.resetError=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:N("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center bg-muted/30 rounded-md border border-muted",children:[u(Hu,{className:"h-12 w-12 text-destructive mb-4"}),u("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),u("p",{className:"text-muted-foreground mb-4 max-w-md",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),u(de,{onClick:this.resetError,children:"Try again"})]}):this.props.children}}function lo({text:r,size:e="md",className:t=""}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return N("div",{className:`flex flex-col items-center justify-center space-y-3 ${t}`,children:[u(Ki,{className:`animate-spin text-primary ${n[e]}`}),r&&u("p",{className:"text-muted-foreground text-sm",children:r})]})}function kb(r,e){const{past:t,present:n,future:s}=r;switch(e.type){case"UNDO":{if(t.length===0)return r;const a=t[t.length-1];return{past:t.slice(0,t.length-1),present:a,future:[n,...s]}}case"REDO":{if(s.length===0)return r;const a=s[0],o=s.slice(1);return{past:[...t,n],present:a,future:o}}case"SET":return e.newPresent===n?r:{past:[...t,n],present:e.newPresent,future:[]};case"CLEAR":return{past:[],present:n,future:[]}}}const Ed=p.createContext(void 0);function Sb({initialState:r,children:e}){const[t,n]=p.useReducer(kb,{past:[],present:r,future:[]}),s=t.past.length>0,a=t.future.length>0,o=()=>n({type:"UNDO"}),i=()=>n({type:"REDO"}),l=d=>n({type:"SET",newPresent:d}),c=()=>n({type:"CLEAR"});return u(Ed.Provider,{value:{state:t,canUndo:s,canRedo:a,undo:o,redo:i,set:l,clear:c},children:e})}function Cd(){const r=p.useContext(Ed);if(r===void 0)throw new Error("useUndoRedo must be used within a UndoRedoProvider");return r}const Td=p.memo(({id:r,content:e,x:t,y:n,color:s="purple",isSelected:a=!1,onSelect:o,onMove:i})=>{const[l,c]=p.useState(!1),[d,h]=p.useState({x:0,y:0}),[f,v]=p.useState({x:t,y:n}),w=p.useRef(null);p.useEffect(()=>{v({x:t,y:n})},[t,n]);const g=x=>{o&&o(r),i&&(c(!0),h({x:x.clientX-f.x,y:x.clientY-f.y}),x.stopPropagation())},y=p.useCallback(x=>{if(!l)return;const E=x.clientX-d.x,A=x.clientY-d.y;v({x:E,y:A})},[l,d]),_=p.useCallback(()=>{l&&i&&(i(r,f.x,f.y),c(!1))},[r,l,i,f]);return p.useEffect(()=>(l&&(document.addEventListener("mousemove",y),document.addEventListener("mouseup",_)),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",_)}),[l,y,_]),u("div",{ref:w,className:`absolute cursor-move p-3 bg-card border rounded-md shadow-md max-w-[300px] ${a?"ring-2 ring-primary":""}`,style:{left:`${f.x}px`,top:`${f.y}px`,borderLeftColor:s==="purple"?"#9b87f5":"#1EAEDB",borderLeftWidth:"4px",zIndex:a?50:10},onMouseDown:g,role:"button",tabIndex:0,"aria-pressed":a,"aria-label":`Annotation: ${e.substring(0,20)}${e.length>20?"...":""}`,children:u("div",{className:"text-sm",children:e})})});Td.displayName="Annotation";const Rd=p.memo(({content:r,onClick:e})=>u("span",{className:"bg-yellow-200 cursor-pointer hover:bg-yellow-300 transition-colors",onClick:e,role:"button",tabIndex:0,"aria-label":`Highlight: ${r}`,onKeyDown:t=>t.key==="Enter"&&e(),children:r}));Rd.displayName="DocumentHighlight";const Ad=p.memo(()=>N("div",{className:"bg-white rounded-md p-8 shadow-md text-gray-800",children:[u("h1",{className:"text-2xl font-bold mb-4",children:"Project Proposal"}),u("p",{className:"mb-4",children:"This document outlines the proposed implementation of a new system designed to optimize processing efficiency within our organization. The following sections detail the scope, timeline, and expected outcomes of this initiative."}),u("h2",{className:"text-xl font-semibold mb-2",children:"Executive Summary"}),u("p",{className:"mb-4",children:"Our current processing system suffers from significant inefficiencies that result in delayed outputs and increased operational costs. This proposal presents a comprehensive solution that addresses these challenges through a combination of technological upgrades and process refinements."}),N("p",{className:"mb-4",children:["Initial testing has demonstrated that ",u(Rd,{content:"implementation of the new system reduced processing time by 42% on average",onClick:()=>{}}),"while maintaining or improving output quality. Additionally, the proposed solution requires minimal disruption to existing workflows during the transition period."]}),u("h2",{className:"text-xl font-semibold mb-2",children:"Objectives"}),u("p",{className:"mb-4",children:"The primary objectives of this project are to:"}),N("ul",{className:"list-disc pl-5 mb-4",children:[u("li",{className:"mb-1",children:"Reduce processing time by at least 40%"}),u("li",{className:"mb-1",children:"Decrease error rates by 25% or more"}),u("li",{className:"mb-1",children:"Improve system reliability to achieve 99.9% uptime"}),u("li",{className:"mb-1",children:"Enable seamless scaling to accommodate growth"})]}),u("p",{className:"mb-4",children:"These objectives directly align with our organizational goals of improving operational efficiency and enhancing customer satisfaction through faster, more reliable service delivery."})]}));Ad.displayName="DocumentPage";const Eb=({documentId:r,isReadOnly:e=!1})=>{const[t,n]=p.useState(null),[s,a]=p.useState(100),[o,i]=p.useState("pan"),[l,c]=p.useState(1),[d,h]=p.useState(!1),f=12,v=p.useRef(null),{toast:w}=$a(),g=Cd(),y=Array.isArray(g.state.present)?g.state.present:[],_=O=>{n(O)},x=p.useCallback((O,Z,le)=>{if(!g.state.present)return;const W=(Array.isArray(g.state.present)?[...g.state.present]:[]).map(ee=>ee.id===O?{...ee,x:Z,y:le}:ee);g.set(W)},[g]),E=p.useCallback(O=>{if(o==="annotate"&&v.current){const Z=v.current.getBoundingClientRect(),le=O.clientX-Z.left,M=O.clientY-Z.top,W={id:`anno-${Date.now()}`,x:le,y:M,content:"New annotation",color:"purple"},ee=Array.isArray(g.state.present)?[...g.state.present]:[];g.set([...ee,W]),n(W.id),w({title:"Annotation added",description:"Click to edit the annotation content"})}},[o,w,g]),A=p.useCallback(O=>{O==="next"&&l<f?(c(Z=>Z+1),n(null)):O==="prev"&&l>1&&(c(Z=>Z-1),n(null))},[l,f]),C=p.useCallback(Eo(()=>{s<200&&a(O=>O+10)},100),[s]),H=p.useCallback(Eo(()=>{s>50&&a(O=>O-10)},100),[s]),se=O=>{O==="undo"&&g.canUndo?g.undo():O==="redo"&&g.canRedo&&g.redo()},ie=p.useCallback(O=>{(O.ctrlKey||O.metaKey)&&(O.key==="z"&&!O.shiftKey?(O.preventDefault(),se("undo")):O.key==="y"||O.key==="z"&&O.shiftKey?(O.preventDefault(),se("redo")):O.key==="+"||O.key==="="?(O.preventDefault(),C()):O.key==="-"&&(O.preventDefault(),H()))},[se,C,H]);return p.useEffect(()=>(window.addEventListener("keydown",ie),()=>{window.removeEventListener("keydown",ie)}),[ie]),p.useEffect(()=>{o!=="annotate"&&n(null)},[o]),p.useEffect(()=>{if(r){h(!0);const O=setTimeout(()=>{h(!1)},1200);return()=>clearTimeout(O)}},[r]),d?u("div",{className:"flex-1 flex items-center justify-center",children:u(lo,{text:"Loading document...",size:"lg"})}):u(xb,{children:N("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[N("div",{className:"bg-muted py-1 px-3 border-b flex items-center justify-between",children:[N("div",{className:"flex items-center space-x-1",children:[u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>A("prev"),disabled:l===1,"aria-label":"Previous page",children:u(zu,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>A("next"),disabled:l===f,"aria-label":"Next page",children:u(zi,{className:"h-4 w-4"})}),N("span",{className:"text-sm text-muted-foreground mx-2",children:["Page ",l," of ",f]})]}),!e&&N("div",{className:"flex items-center space-x-1",children:[N(de,{variant:o==="pan"?"secondary":"ghost",size:"sm",className:"h-8",onClick:()=>i("pan"),"aria-pressed":o==="pan","aria-label":"Pan tool",children:[u(Hi,{className:"h-4 w-4 mr-2"}),"Pan"]}),N(de,{variant:o==="annotate"?"secondary":"ghost",size:"sm",className:"h-8",onClick:()=>i("annotate"),"aria-pressed":o==="annotate","aria-label":"Annotate tool",children:[u(Yi,{className:"h-4 w-4 mr-2"}),"Annotate"]}),N(de,{variant:o==="highlight"?"secondary":"ghost",size:"sm",className:"h-8",onClick:()=>i("highlight"),"aria-pressed":o==="highlight","aria-label":"Highlight tool",children:[u(Wi,{className:"h-4 w-4 mr-2"}),"Highlight"]}),N(de,{variant:o==="link"?"secondary":"ghost",size:"sm",className:"h-8",onClick:()=>i("link"),"aria-pressed":o==="link","aria-label":"Connect tool",children:[u(Gi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),N("div",{className:"flex items-center space-x-1",children:[!e&&N(ks,{children:[u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>se("undo"),disabled:!g.canUndo,"aria-label":"Undo",children:u(sh,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>se("redo"),disabled:!g.canRedo,"aria-label":"Redo",children:u(eh,{className:"h-4 w-4"})})]}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:H,disabled:s<=50,"aria-label":"Zoom out",children:u(lh,{className:"h-4 w-4"})}),N("span",{className:"text-sm mx-1",children:[s,"%"]}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:C,disabled:s>=200,"aria-label":"Zoom in",children:u(ih,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8 ml-2","aria-label":"Save document",children:u(th,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Download document",children:u(Gu,{className:"h-4 w-4"})})]})]}),u("div",{className:"flex-1 relative overflow-hidden",children:u(Nr,{className:"h-full",children:N("div",{ref:v,className:"min-h-full w-full p-8 relative",onClick:E,style:{cursor:o==="annotate"?"crosshair":o==="pan"?"grab":"default",transform:`scale(${s/100})`,transformOrigin:"top left",transition:"transform 0.2s ease-out"},role:"region","aria-label":"Document canvas",tabIndex:0,children:[u("div",{className:"mx-auto max-w-3xl",children:u(Ad,{})}),y&&y.map(O=>u(Td,{...O,isSelected:t===O.id,onSelect:_,onMove:x},O.id)),u("svg",{className:"absolute inset-0 pointer-events-none",style:{zIndex:10},children:u("path",{d:"M580,160 C600,180 620,280 650,320",fill:"none",stroke:"rgba(155, 135, 245, 0.6)",strokeWidth:"2",strokeDasharray:"5,5"})})]})})})]})})},co=Ou,$s=p.forwardRef(({className:r,...e},t)=>u(ji,{ref:t,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...e}));$s.displayName=ji.displayName;const dt=p.forwardRef(({className:r,...e},t)=>u($i,{ref:t,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...e}));dt.displayName=$i.displayName;const mn=p.forwardRef(({className:r,...e},t)=>u(Li,{ref:t,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...e}));mn.displayName=Li.displayName;const Kr=({text:r,source:e})=>N(Fr,{className:"p-3 mb-3 hover:shadow-md transition-shadow border border-border/60",children:[u("div",{className:"text-sm",children:r}),N("div",{className:"text-xs text-muted-foreground mt-1 flex items-center",children:[u(Nn,{className:"h-3 w-3 inline mr-1"}),e]})]}),Yn=({text:r,timestamp:e})=>N(Fr,{className:"p-3 mb-3 hover:shadow-md transition-shadow border-l-4 border-l-fluid-purple border",children:[u("div",{className:"text-sm",children:r}),u("div",{className:"text-xs text-muted-foreground mt-1",children:e})]}),Cb=()=>u("div",{className:"w-[300px] border-l bg-card h-full flex flex-col",children:N(co,{defaultValue:"excerpts",className:"flex flex-col h-full",children:[u("div",{className:"px-4 pt-4",children:N($s,{className:"w-full",children:[N(dt,{value:"excerpts",className:"flex-1",children:[u(Wu,{className:"h-4 w-4 mr-2"}),"Excerpts"]}),N(dt,{value:"notes",className:"flex-1",children:[u(Yu,{className:"h-4 w-4 mr-2"}),"Notes"]})]})}),u(mn,{value:"excerpts",className:"flex-1 px-4 pt-2",children:N(Nr,{className:"h-full pr-4",children:[u(Kr,{text:"The results indicate a significant correlation between the variables (p < 0.001).",source:"Research Paper.pdf, p.12"}),u(Kr,{text:"Implementation of the new system reduced processing time by 42% on average.",source:"Project Proposal.pdf, p.8"}),u(Kr,{text:"Further studies are needed to confirm these preliminary findings.",source:"Research Paper.pdf, p.15"}),u(Kr,{text:"The budget allocation for Q3 should prioritize research and development initiatives.",source:"Meeting Notes.pdf, p.3"}),u(Kr,{text:"User testing revealed that 78% of participants preferred the new interface design.",source:"Design Specs.pdf, p.22"})]})}),u(mn,{value:"notes",className:"flex-1 px-4 pt-2",children:N(Nr,{className:"h-full pr-4",children:[u(Yn,{text:"Follow up on the correlation analysis and check methodology",timestamp:"Today, 10:23 AM"}),u(Yn,{text:"Ask team about the implementation timeline for the new processing system",timestamp:"Yesterday, 4:15 PM"}),u(Yn,{text:"Important point for the meeting - discuss the budget allocation priorities",timestamp:"Sep 15, 2023"}),u(Yn,{text:"Consider running additional user tests with different demographic groups",timestamp:"Sep 12, 2023"})]})})]})});var Tb="Separator",ui="horizontal",Rb=["horizontal","vertical"],Nd=p.forwardRef((r,e)=>{const{decorative:t,orientation:n=ui,...s}=r,a=Ab(n)?n:ui,i=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u(Oe.div,{"data-orientation":a,...i,...s,ref:e})});Nd.displayName=Tb;function Ab(r){return Rb.includes(r)}var Pd=Nd;const Aa=p.forwardRef(({className:r,orientation:e="horizontal",decorative:t=!0,...n},s)=>u(Pd,{ref:s,decorative:t,orientation:e,className:re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...n}));Aa.displayName=Pd.displayName;const Nb=[{color:"#1EAEDB",name:"blue"},{color:"#9b87f5",name:"purple"},{color:"#F97316",name:"orange"},{color:"#65A30D",name:"green"},{color:"#EF4444",name:"red"}],Pb=()=>{Cd();const r=t=>{console.log("Tool changed to:",t)},e=t=>{console.log("Color changed to:",t)};return u("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-10",children:N("div",{className:"bg-card rounded-full shadow-lg border px-4 py-1.5 flex items-center space-x-2",children:[u(co,{defaultValue:"annotate",className:"mr-2",onValueChange:r,children:N($s,{className:"bg-muted/70",children:[u(dt,{value:"select",className:"px-3",children:u(Hi,{className:"h-4 w-4"})}),u(dt,{value:"annotate",className:"px-3",children:u(Yi,{className:"h-4 w-4"})}),u(dt,{value:"highlight",className:"px-3",children:u(Wi,{className:"h-4 w-4"})}),u(dt,{value:"excerpt",className:"px-3",children:u(Nn,{className:"h-4 w-4"})}),u(dt,{value:"connect",className:"px-3",children:u(Gi,{className:"h-4 w-4"})})]})}),u(Aa,{orientation:"vertical",className:"h-8"}),u("div",{className:"flex items-center space-x-1",children:Nb.map((t,n)=>u(de,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",style:{color:t.color},onClick:()=>e(t.color),children:u("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:t.color}})},n))}),u(Aa,{orientation:"vertical",className:"h-8"}),N("div",{className:"flex items-center space-x-1",children:[u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u(Qu,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u(Ku,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u(nh,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u(Zi,{className:"h-4 w-4"})}),u(de,{variant:"ghost",size:"icon",className:"h-8 w-8",children:u(zi,{className:"h-4 w-4"})})]})]})})},Ob=[{id:"1",x:550,y:120,content:"This is a key point - 42% reduction is significant and exceeds our target objective.",color:"purple"},{id:"2",x:650,y:320,content:"Check if we can implement this in phases to minimize disruption.",color:"blue"}],hi=()=>N("div",{className:"flex flex-col h-screen overflow-hidden bg-background",children:[u(od,{}),N(Sb,{initialState:Ob,children:[N("main",{className:"flex-1 flex overflow-hidden",children:[u(_b,{}),u(Eb,{}),u(Cb,{})]}),u(Pb,{})]})]}),hr=({title:r,documentsCount:e,lastModified:t,onClick:n})=>N(Fr,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:n,children:[u("h3",{className:"font-medium text-lg mb-1",children:r}),N("div",{className:"flex items-center text-sm text-muted-foreground",children:[u(Nn,{className:"h-4 w-4 mr-1"}),N("span",{children:[e," documents"]})]}),N("div",{className:"mt-2 text-xs text-muted-foreground",children:["Last modified: ",t]})]}),Ib=()=>{const r=$r(),e=()=>{r("/")};return N("div",{className:"flex flex-col h-screen overflow-hidden bg-background",children:[u(od,{}),u("main",{className:"flex-1 overflow-hidden p-6",children:N("div",{className:"max-w-screen-xl mx-auto",children:[N("div",{className:"flex items-center justify-between mb-6",children:[N("div",{children:[u("h1",{className:"text-2xl font-bold mb-1",children:"Workspaces"}),u("p",{className:"text-muted-foreground",children:"Create and manage your document workspaces"})]}),N("div",{className:"flex space-x-2",children:[N(de,{variant:"outline",children:[u(qi,{className:"h-4 w-4 mr-2"}),"Open Workspace"]}),N(de,{children:[u(Ji,{className:"h-4 w-4 mr-2"}),"New Workspace"]})]})]}),u(Nr,{className:"h-[calc(100vh-200px)]",children:N("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u(hr,{title:"Research Project",documentsCount:3,lastModified:"Today at 10:23 AM",onClick:e}),u(hr,{title:"Product Design",documentsCount:5,lastModified:"Yesterday at 4:15 PM",onClick:e}),u(hr,{title:"Meeting Notes",documentsCount:12,lastModified:"Sep 15, 2023",onClick:e}),u(hr,{title:"Academic Papers",documentsCount:7,lastModified:"Sep 12, 2023",onClick:e}),u(hr,{title:"Personal Projects",documentsCount:4,lastModified:"Sep 8, 2023",onClick:e}),u(hr,{title:"Conference Materials",documentsCount:2,lastModified:"Aug 29, 2023",onClick:e})]})})]})})]})};var jn=r=>r.type==="checkbox",Jt=r=>r instanceof Date,Me=r=>r==null;const Od=r=>typeof r=="object";var Te=r=>!Me(r)&&!Array.isArray(r)&&Od(r)&&!Jt(r),Id=r=>Te(r)&&r.target?jn(r.target)?r.target.checked:r.target.value:r,Mb=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,Md=(r,e)=>r.has(Mb(e)),Db=r=>{const e=r.constructor&&r.constructor.prototype;return Te(e)&&e.hasOwnProperty("isPrototypeOf")},uo=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Le(r){let e;const t=Array.isArray(r);if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(uo&&(r instanceof Blob||r instanceof FileList))&&(t||Te(r)))if(e=t?[]:{},!t&&!Db(r))e=r;else for(const n in r)r.hasOwnProperty(n)&&(e[n]=Le(r[n]));else return r;return e}var Ls=r=>Array.isArray(r)?r.filter(Boolean):[],Ee=r=>r===void 0,P=(r,e,t)=>{if(!e||!Te(r))return t;const n=Ls(e.split(/[,[\].]+?/)).reduce((s,a)=>Me(s)?s:s[a],r);return Ee(n)||n===r?Ee(r[e])?t:r[e]:n},He=r=>typeof r=="boolean",ho=r=>/^\w*$/.test(r),Dd=r=>Ls(r.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(r,e,t)=>{let n=-1;const s=ho(e)?[e]:Dd(e),a=s.length,o=a-1;for(;++n<a;){const i=s[n];let l=t;if(n!==o){const c=r[i];l=Te(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(i==="__proto__")return;r[i]=l,r=r[i]}return r};const us={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},et={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jd=S.createContext(null),Us=()=>S.useContext(jd),jb=r=>{const{children:e,...t}=r;return S.createElement(jd.Provider,{value:t},e)};var $d=(r,e,t,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in r)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==et.all&&(e._proxyFormState[o]=!n||et.all),t&&(t[o]=!0),r[o]}});return s},Ue=r=>Te(r)&&!Object.keys(r).length,Ld=(r,e,t,n)=>{t(r);const{name:s,...a}=r;return Ue(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||et.all))},on=r=>Array.isArray(r)?r:[r],Ud=(r,e,t)=>!r||!e||r===e||on(r).some(n=>n&&(t?n===e:n.startsWith(e)||e.startsWith(n)));function fo(r){const e=S.useRef(r);e.current=r,S.useEffect(()=>{const t=!r.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[r.disabled])}function $b(r){const e=Us(),{control:t=e.control,disabled:n,name:s,exact:a}=r||{},[o,i]=S.useState(t._formState),l=S.useRef(!0),c=S.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=S.useRef(s);return d.current=s,fo({disabled:n,next:h=>l.current&&Ud(d.current,h.name,a)&&Ld(h,c.current,t._updateFormState)&&i({...t._formState,...h}),subject:t._subjects.state}),S.useEffect(()=>(l.current=!0,c.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),$d(o,t,c.current,!1)}var ut=r=>typeof r=="string",Fd=(r,e,t,n,s)=>ut(r)?(n&&e.watch.add(r),P(t,r,s)):Array.isArray(r)?r.map(a=>(n&&e.watch.add(a),P(t,a))):(n&&(e.watchAll=!0),t);function Lb(r){const e=Us(),{control:t=e.control,name:n,defaultValue:s,disabled:a,exact:o}=r||{},i=S.useRef(n);i.current=n,fo({disabled:a,subject:t._subjects.values,next:d=>{Ud(i.current,d.name,o)&&c(Le(Fd(i.current,t._names,d.values||t._formValues,!1,s)))}});const[l,c]=S.useState(t._getWatch(n,s));return S.useEffect(()=>t._removeUnmounted()),l}function Ub(r){const e=Us(),{name:t,disabled:n,control:s=e.control,shouldUnregister:a}=r,o=Md(s._names.array,t),i=Lb({control:s,name:t,defaultValue:P(s._formValues,t,P(s._defaultValues,t,r.defaultValue)),exact:!0}),l=$b({control:s,name:t,exact:!0}),c=S.useRef(s.register(t,{...r.rules,value:i,...He(r.disabled)?{disabled:r.disabled}:{}}));return S.useEffect(()=>{const d=s._options.shouldUnregister||a,h=(f,v)=>{const w=P(s._fields,f);w&&w._f&&(w._f.mount=v)};if(h(t,!0),d){const f=Le(P(s._options.defaultValues,t));ce(s._defaultValues,t,f),Ee(P(s._formValues,t))&&ce(s._formValues,t,f)}return()=>{(o?d&&!s._state.action:d)?s.unregister(t):h(t,!1)}},[t,s,o,a]),S.useEffect(()=>{P(s._fields,t)&&s._updateDisabledField({disabled:n,fields:s._fields,name:t,value:P(s._fields,t)._f.value})},[n,t,s]),{field:{name:t,value:i,...He(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:S.useCallback(d=>c.current.onChange({target:{value:Id(d),name:t},type:us.CHANGE}),[t]),onBlur:S.useCallback(()=>c.current.onBlur({target:{value:P(s._formValues,t),name:t},type:us.BLUR}),[t,s]),ref:S.useCallback(d=>{const h=P(s._fields,t);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[s._fields,t])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!P(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!P(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!P(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!P(l.validatingFields,t)},error:{enumerable:!0,get:()=>P(l.errors,t)}})}}const Fb=r=>r.render(Ub(r));var Vd=(r,e,t,n,s)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[n]:s||!0}}:{},fi=r=>({isOnSubmit:!r||r===et.onSubmit,isOnBlur:r===et.onBlur,isOnChange:r===et.onChange,isOnAll:r===et.all,isOnTouch:r===et.onTouched}),pi=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(n=>r.startsWith(n)&&/^\.\w+/.test(r.slice(n.length))));const ln=(r,e,t,n)=>{for(const s of t||Object.keys(r)){const a=P(r,s);if(a){const{_f:o,...i}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(ln(i,e))break}else if(Te(i)&&ln(i,e))break}}};var Vb=(r,e,t)=>{const n=on(P(r,t));return ce(n,"root",e[t]),ce(r,t,n),r},po=r=>r.type==="file",_t=r=>typeof r=="function",hs=r=>{if(!uo)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ns=r=>ut(r),mo=r=>r.type==="radio",fs=r=>r instanceof RegExp;const mi={value:!1,isValid:!1},gi={value:!0,isValid:!0};var Bd=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Ee(r[0].attributes.value)?Ee(r[0].value)||r[0].value===""?gi:{value:r[0].value,isValid:!0}:gi:mi}return mi};const vi={isValid:!1,value:null};var zd=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,vi):vi;function yi(r,e,t="validate"){if(ns(r)||Array.isArray(r)&&r.every(ns)||He(r)&&!r)return{type:t,message:ns(r)?r:"",ref:e}}var fr=r=>Te(r)&&!fs(r)?r:{value:r,message:""},bi=async(r,e,t,n,s)=>{const{ref:a,refs:o,required:i,maxLength:l,minLength:c,min:d,max:h,pattern:f,validate:v,name:w,valueAsNumber:g,mount:y,disabled:_}=r._f,x=P(e,w);if(!y||_)return{};const E=o?o[0]:a,A=M=>{n&&E.reportValidity&&(E.setCustomValidity(He(M)?"":M||""),E.reportValidity())},C={},H=mo(a),se=jn(a),ie=H||se,O=(g||po(a))&&Ee(a.value)&&Ee(x)||hs(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,Z=Vd.bind(null,w,t,C),le=(M,W,ee,pe=yt.maxLength,me=yt.minLength)=>{const xe=M?W:ee;C[w]={type:M?pe:me,message:xe,ref:a,...Z(M?pe:me,xe)}};if(s?!Array.isArray(x)||!x.length:i&&(!ie&&(O||Me(x))||He(x)&&!x||se&&!Bd(o).isValid||H&&!zd(o).isValid)){const{value:M,message:W}=ns(i)?{value:!!i,message:i}:fr(i);if(M&&(C[w]={type:yt.required,message:W,ref:E,...Z(yt.required,W)},!t))return A(W),C}if(!O&&(!Me(d)||!Me(h))){let M,W;const ee=fr(h),pe=fr(d);if(!Me(x)&&!isNaN(x)){const me=a.valueAsNumber||x&&+x;Me(ee.value)||(M=me>ee.value),Me(pe.value)||(W=me<pe.value)}else{const me=a.valueAsDate||new Date(x),xe=ye=>new Date(new Date().toDateString()+" "+ye),q=a.type=="time",L=a.type=="week";ut(ee.value)&&x&&(M=q?xe(x)>xe(ee.value):L?x>ee.value:me>new Date(ee.value)),ut(pe.value)&&x&&(W=q?xe(x)<xe(pe.value):L?x<pe.value:me<new Date(pe.value))}if((M||W)&&(le(!!M,ee.message,pe.message,yt.max,yt.min),!t))return A(C[w].message),C}if((l||c)&&!O&&(ut(x)||s&&Array.isArray(x))){const M=fr(l),W=fr(c),ee=!Me(M.value)&&x.length>+M.value,pe=!Me(W.value)&&x.length<+W.value;if((ee||pe)&&(le(ee,M.message,W.message),!t))return A(C[w].message),C}if(f&&!O&&ut(x)){const{value:M,message:W}=fr(f);if(fs(M)&&!x.match(M)&&(C[w]={type:yt.pattern,message:W,ref:a,...Z(yt.pattern,W)},!t))return A(W),C}if(v){if(_t(v)){const M=await v(x,e),W=yi(M,E);if(W&&(C[w]={...W,...Z(yt.validate,W.message)},!t))return A(W.message),C}else if(Te(v)){let M={};for(const W in v){if(!Ue(M)&&!t)break;const ee=yi(await v[W](x,e),E,W);ee&&(M={...ee,...Z(W,ee.message)},A(ee.message),t&&(C[w]=M))}if(!Ue(M)&&(C[w]={ref:E,...M},!t))return C}}return A(!0),C};function Bb(r,e){const t=e.slice(0,-1).length;let n=0;for(;n<t;)r=Ee(r)?n++:r[e[n++]];return r}function zb(r){for(const e in r)if(r.hasOwnProperty(e)&&!Ee(r[e]))return!1;return!0}function Re(r,e){const t=Array.isArray(e)?e:ho(e)?[e]:Dd(e),n=t.length===1?r:Bb(r,t),s=t.length-1,a=t[s];return n&&delete n[a],s!==0&&(Te(n)&&Ue(n)||Array.isArray(n)&&zb(n))&&Re(r,t.slice(0,-1)),r}var la=()=>{let r=[];return{get observers(){return r},next:s=>{for(const a of r)a.next&&a.next(s)},subscribe:s=>(r.push(s),{unsubscribe:()=>{r=r.filter(a=>a!==s)}}),unsubscribe:()=>{r=[]}}},Na=r=>Me(r)||!Od(r);function It(r,e){if(Na(r)||Na(e))return r===e;if(Jt(r)&&Jt(e))return r.getTime()===e.getTime();const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(const s of t){const a=r[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Jt(a)&&Jt(o)||Te(a)&&Te(o)||Array.isArray(a)&&Array.isArray(o)?!It(a,o):a!==o)return!1}}return!0}var Wd=r=>r.type==="select-multiple",Wb=r=>mo(r)||jn(r),ca=r=>hs(r)&&r.isConnected,Zd=r=>{for(const e in r)if(_t(r[e]))return!0;return!1};function ps(r,e={}){const t=Array.isArray(r);if(Te(r)||t)for(const n in r)Array.isArray(r[n])||Te(r[n])&&!Zd(r[n])?(e[n]=Array.isArray(r[n])?[]:{},ps(r[n],e[n])):Me(r[n])||(e[n]=!0);return e}function qd(r,e,t){const n=Array.isArray(r);if(Te(r)||n)for(const s in r)Array.isArray(r[s])||Te(r[s])&&!Zd(r[s])?Ee(e)||Na(t[s])?t[s]=Array.isArray(r[s])?ps(r[s],[]):{...ps(r[s])}:qd(r[s],Me(e)?{}:e[s],t[s]):t[s]=!It(r[s],e[s]);return t}var Jr=(r,e)=>qd(r,e,ps(e)),Hd=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:n})=>Ee(r)?r:e?r===""?NaN:r&&+r:t&&ut(r)?new Date(r):n?n(r):r;function da(r){const e=r.ref;if(!(r.refs?r.refs.every(t=>t.disabled):e.disabled))return po(e)?e.files:mo(e)?zd(r.refs).value:Wd(e)?[...e.selectedOptions].map(({value:t})=>t):jn(e)?Bd(r.refs).value:Hd(Ee(e.value)?r.ref.value:e.value,r)}var Zb=(r,e,t,n)=>{const s={};for(const a of r){const o=P(e,a);o&&ce(s,a,o._f)}return{criteriaMode:t,names:[...r],fields:s,shouldUseNativeValidation:n}},Yr=r=>Ee(r)?r:fs(r)?r.source:Te(r)?fs(r.value)?r.value.source:r.value:r;const wi="AsyncFunction";var qb=r=>(!r||!r.validate)&&!!(_t(r.validate)&&r.validate.constructor.name===wi||Te(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===wi)),Hb=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate);function _i(r,e,t){const n=P(r,t);if(n||ho(t))return{error:n,name:t};const s=t.split(".");for(;s.length;){const a=s.join("."),o=P(e,a),i=P(r,a);if(o&&!Array.isArray(o)&&t!==a)return{name:t};if(i&&i.type)return{name:a,error:i};s.pop()}return{name:t}}var Gb=(r,e,t,n,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||r):(t?n.isOnBlur:s.isOnBlur)?!r:(t?n.isOnChange:s.isOnChange)?r:!0,Kb=(r,e)=>!Ls(P(r,e)).length&&Re(r,e);const Jb={mode:et.onSubmit,reValidateMode:et.onChange,shouldFocusError:!0};function Yb(r={}){let e={...Jb,...r},t={submitCount:0,isDirty:!1,isLoading:_t(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Te(e.defaultValues)||Te(e.values)?Le(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Le(s),o={action:!1,mount:!1,watch:!1},i={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:la(),array:la(),state:la()},f=fi(e.mode),v=fi(e.reValidateMode),w=e.criteriaMode===et.all,g=m=>b=>{clearTimeout(c),c=setTimeout(m,b)},y=async m=>{if(!r.disabled&&(d.isValid||m)){const b=e.resolver?Ue((await ie()).errors):await Z(n,!0);b!==t.isValid&&h.state.next({isValid:b})}},_=(m,b)=>{!r.disabled&&(d.isValidating||d.validatingFields)&&((m||Array.from(i.mount)).forEach(k=>{k&&(b?ce(t.validatingFields,k,b):Re(t.validatingFields,k))}),h.state.next({validatingFields:t.validatingFields,isValidating:!Ue(t.validatingFields)}))},x=(m,b=[],k,D,I=!0,R=!0)=>{if(D&&k&&!r.disabled){if(o.action=!0,R&&Array.isArray(P(n,m))){const F=k(P(n,m),D.argA,D.argB);I&&ce(n,m,F)}if(R&&Array.isArray(P(t.errors,m))){const F=k(P(t.errors,m),D.argA,D.argB);I&&ce(t.errors,m,F),Kb(t.errors,m)}if(d.touchedFields&&R&&Array.isArray(P(t.touchedFields,m))){const F=k(P(t.touchedFields,m),D.argA,D.argB);I&&ce(t.touchedFields,m,F)}d.dirtyFields&&(t.dirtyFields=Jr(s,a)),h.state.next({name:m,isDirty:M(m,b),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ce(a,m,b)},E=(m,b)=>{ce(t.errors,m,b),h.state.next({errors:t.errors})},A=m=>{t.errors=m,h.state.next({errors:t.errors,isValid:!1})},C=(m,b,k,D)=>{const I=P(n,m);if(I){const R=P(a,m,Ee(k)?P(s,m):k);Ee(R)||D&&D.defaultChecked||b?ce(a,m,b?R:da(I._f)):pe(m,R),o.mount&&y()}},H=(m,b,k,D,I)=>{let R=!1,F=!1;const K={name:m};if(!r.disabled){const Se=!!(P(n,m)&&P(n,m)._f&&P(n,m)._f.disabled);if(!k||D){d.isDirty&&(F=t.isDirty,t.isDirty=K.isDirty=M(),R=F!==K.isDirty);const be=Se||It(P(s,m),b);F=!!(!Se&&P(t.dirtyFields,m)),be||Se?Re(t.dirtyFields,m):ce(t.dirtyFields,m,!0),K.dirtyFields=t.dirtyFields,R=R||d.dirtyFields&&F!==!be}if(k){const be=P(t.touchedFields,m);be||(ce(t.touchedFields,m,k),K.touchedFields=t.touchedFields,R=R||d.touchedFields&&be!==k)}R&&I&&h.state.next(K)}return R?K:{}},se=(m,b,k,D)=>{const I=P(t.errors,m),R=d.isValid&&He(b)&&t.isValid!==b;if(r.delayError&&k?(l=g(()=>E(m,k)),l(r.delayError)):(clearTimeout(c),l=null,k?ce(t.errors,m,k):Re(t.errors,m)),(k?!It(I,k):I)||!Ue(D)||R){const F={...D,...R&&He(b)?{isValid:b}:{},errors:t.errors,name:m};t={...t,...F},h.state.next(F)}},ie=async m=>{_(m,!0);const b=await e.resolver(a,e.context,Zb(m||i.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(m),b},O=async m=>{const{errors:b}=await ie(m);if(m)for(const k of m){const D=P(b,k);D?ce(t.errors,k,D):Re(t.errors,k)}else t.errors=b;return b},Z=async(m,b,k={valid:!0})=>{for(const D in m){const I=m[D];if(I){const{_f:R,...F}=I;if(R){const K=i.array.has(R.name),Se=I._f&&qb(I._f);Se&&d.validatingFields&&_([D],!0);const be=await bi(I,a,w,e.shouldUseNativeValidation&&!b,K);if(Se&&d.validatingFields&&_([D]),be[R.name]&&(k.valid=!1,b))break;!b&&(P(be,R.name)?K?Vb(t.errors,be,R.name):ce(t.errors,R.name,be[R.name]):Re(t.errors,R.name))}!Ue(F)&&await Z(F,b,k)}}return k.valid},le=()=>{for(const m of i.unMount){const b=P(n,m);b&&(b._f.refs?b._f.refs.every(k=>!ca(k)):!ca(b._f.ref))&&fe(m)}i.unMount=new Set},M=(m,b)=>!r.disabled&&(m&&b&&ce(a,m,b),!It(V(),s)),W=(m,b,k)=>Fd(m,i,{...o.mount?a:Ee(b)?s:ut(m)?{[m]:b}:b},k,b),ee=m=>Ls(P(o.mount?a:s,m,r.shouldUnregister?P(s,m,[]):[])),pe=(m,b,k={})=>{const D=P(n,m);let I=b;if(D){const R=D._f;R&&(!R.disabled&&ce(a,m,Hd(b,R)),I=hs(R.ref)&&Me(b)?"":b,Wd(R.ref)?[...R.ref.options].forEach(F=>F.selected=I.includes(F.value)):R.refs?jn(R.ref)?R.refs.length>1?R.refs.forEach(F=>(!F.defaultChecked||!F.disabled)&&(F.checked=Array.isArray(I)?!!I.find(K=>K===F.value):I===F.value)):R.refs[0]&&(R.refs[0].checked=!!I):R.refs.forEach(F=>F.checked=F.value===I):po(R.ref)?R.ref.value="":(R.ref.value=I,R.ref.type||h.values.next({name:m,values:{...a}})))}(k.shouldDirty||k.shouldTouch)&&H(m,I,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&ye(m)},me=(m,b,k)=>{for(const D in b){const I=b[D],R=`${m}.${D}`,F=P(n,R);(i.array.has(m)||Te(I)||F&&!F._f)&&!Jt(I)?me(R,I,k):pe(R,I,k)}},xe=(m,b,k={})=>{const D=P(n,m),I=i.array.has(m),R=Le(b);ce(a,m,R),I?(h.array.next({name:m,values:{...a}}),(d.isDirty||d.dirtyFields)&&k.shouldDirty&&h.state.next({name:m,dirtyFields:Jr(s,a),isDirty:M(m,R)})):D&&!D._f&&!Me(R)?me(m,R,k):pe(m,R,k),pi(m,i)&&h.state.next({...t}),h.values.next({name:o.mount?m:void 0,values:{...a}})},q=async m=>{o.mount=!0;const b=m.target;let k=b.name,D=!0;const I=P(n,k),R=()=>b.type?da(I._f):Id(m),F=K=>{D=Number.isNaN(K)||Jt(K)&&isNaN(K.getTime())||It(K,P(a,k,K))};if(I){let K,Se;const be=R(),at=m.type===us.BLUR||m.type===us.FOCUS_OUT,St=!Hb(I._f)&&!e.resolver&&!P(t.errors,k)&&!I._f.deps||Gb(at,P(t.touchedFields,k),t.isSubmitted,v,f),sr=pi(k,i,at);ce(a,k,be),at?(I._f.onBlur&&I._f.onBlur(m),l&&l(0)):I._f.onChange&&I._f.onChange(m);const zr=H(k,be,at,!1),Fn=!Ue(zr)||sr;if(!at&&h.values.next({name:k,type:m.type,values:{...a}}),St)return d.isValid&&(r.mode==="onBlur"?at&&y():y()),Fn&&h.state.next({name:k,...sr?{}:zr});if(!at&&sr&&h.state.next({...t}),e.resolver){const{errors:Wr}=await ie([k]);if(F(be),D){const zs=_i(t.errors,n,k),ar=_i(Wr,n,zs.name||k);K=ar.error,k=ar.name,Se=Ue(Wr)}}else _([k],!0),K=(await bi(I,a,w,e.shouldUseNativeValidation))[k],_([k]),F(be),D&&(K?Se=!1:d.isValid&&(Se=await Z(n,!0)));D&&(I._f.deps&&ye(I._f.deps),se(k,Se,K,zr))}},L=(m,b)=>{if(P(t.errors,b)&&m.focus)return m.focus(),1},ye=async(m,b={})=>{let k,D;const I=on(m);if(e.resolver){const R=await O(Ee(m)?m:I);k=Ue(R),D=m?!I.some(F=>P(R,F)):k}else m?(D=(await Promise.all(I.map(async R=>{const F=P(n,R);return await Z(F&&F._f?{[R]:F}:F)}))).every(Boolean),!(!D&&!t.isValid)&&y()):D=k=await Z(n);return h.state.next({...!ut(m)||d.isValid&&k!==t.isValid?{}:{name:m},...e.resolver||!m?{isValid:k}:{},errors:t.errors}),b.shouldFocus&&!D&&ln(n,L,m?I:i.mount),D},V=m=>{const b={...o.mount?a:s};return Ee(m)?b:ut(m)?P(b,m):m.map(k=>P(b,k))},te=(m,b)=>({invalid:!!P((b||t).errors,m),isDirty:!!P((b||t).dirtyFields,m),error:P((b||t).errors,m),isValidating:!!P(t.validatingFields,m),isTouched:!!P((b||t).touchedFields,m)}),he=m=>{m&&on(m).forEach(b=>Re(t.errors,b)),h.state.next({errors:m?t.errors:{}})},Pe=(m,b,k)=>{const D=(P(n,m,{_f:{}})._f||{}).ref,I=P(t.errors,m)||{},{ref:R,message:F,type:K,...Se}=I;ce(t.errors,m,{...Se,...b,ref:D}),h.state.next({name:m,errors:t.errors,isValid:!1}),k&&k.shouldFocus&&D&&D.focus&&D.focus()},Ze=(m,b)=>_t(m)?h.values.subscribe({next:k=>m(W(void 0,b),k)}):W(m,b,!0),fe=(m,b={})=>{for(const k of m?on(m):i.mount)i.mount.delete(k),i.array.delete(k),b.keepValue||(Re(n,k),Re(a,k)),!b.keepError&&Re(t.errors,k),!b.keepDirty&&Re(t.dirtyFields,k),!b.keepTouched&&Re(t.touchedFields,k),!b.keepIsValidating&&Re(t.validatingFields,k),!e.shouldUnregister&&!b.keepDefaultValue&&Re(s,k);h.values.next({values:{...a}}),h.state.next({...t,...b.keepDirty?{isDirty:M()}:{}}),!b.keepIsValid&&y()},Ve=({disabled:m,name:b,field:k,fields:D,value:I})=>{if(He(m)&&o.mount||m){const R=m?void 0:Ee(I)?da(k?k._f:P(D,b)._f):I;ce(a,b,R),H(b,R,!1,!1,!0)}},qe=(m,b={})=>{let k=P(n,m);const D=He(b.disabled)||He(r.disabled);return ce(n,m,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:m}},name:m,mount:!0,...b}}),i.mount.add(m),k?Ve({field:k,disabled:He(b.disabled)?b.disabled:r.disabled,name:m,value:b.value}):C(m,!0,b.value),{...D?{disabled:b.disabled||r.disabled}:{},...e.progressive?{required:!!b.required,min:Yr(b.min),max:Yr(b.max),minLength:Yr(b.minLength),maxLength:Yr(b.maxLength),pattern:Yr(b.pattern)}:{},name:m,onChange:q,onBlur:q,ref:I=>{if(I){qe(m,b),k=P(n,m);const R=Ee(I.value)&&I.querySelectorAll&&I.querySelectorAll("input,select,textarea")[0]||I,F=Wb(R),K=k._f.refs||[];if(F?K.find(Se=>Se===R):R===k._f.ref)return;ce(n,m,{_f:{...k._f,...F?{refs:[...K.filter(ca),R,...Array.isArray(P(s,m))?[{}]:[]],ref:{type:R.type,name:m}}:{ref:R}}}),C(m,!1,void 0,R)}else k=P(n,m,{}),k._f&&(k._f.mount=!1),(e.shouldUnregister||b.shouldUnregister)&&!(Md(i.array,m)&&o.action)&&i.unMount.add(m)}}},Ae=()=>e.shouldFocusError&&ln(n,L,i.mount),st=m=>{He(m)&&(h.state.next({disabled:m}),ln(n,(b,k)=>{const D=P(n,k);D&&(b.disabled=D._f.disabled||m,Array.isArray(D._f.refs)&&D._f.refs.forEach(I=>{I.disabled=D._f.disabled||m}))},0,!1))},Ln=(m,b)=>async k=>{let D;k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let I=Le(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:R,values:F}=await ie();t.errors=R,I=F}else await Z(n);if(Re(t.errors,"root"),Ue(t.errors)){h.state.next({errors:{}});try{await m(I,k)}catch(R){D=R}}else b&&await b({...t.errors},k),Ae(),setTimeout(Ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ue(t.errors)&&!D,submitCount:t.submitCount+1,errors:t.errors}),D)throw D},Vr=(m,b={})=>{P(n,m)&&(Ee(b.defaultValue)?xe(m,Le(P(s,m))):(xe(m,b.defaultValue),ce(s,m,Le(b.defaultValue))),b.keepTouched||Re(t.touchedFields,m),b.keepDirty||(Re(t.dirtyFields,m),t.isDirty=b.defaultValue?M(m,Le(P(s,m))):M()),b.keepError||(Re(t.errors,m),d.isValid&&y()),h.state.next({...t}))},Un=(m,b={})=>{const k=m?Le(m):s,D=Le(k),I=Ue(m),R=I?s:D;if(b.keepDefaultValues||(s=k),!b.keepValues){if(b.keepDirtyValues){const F=new Set([...i.mount,...Object.keys(Jr(s,a))]);for(const K of Array.from(F))P(t.dirtyFields,K)?ce(R,K,P(a,K)):xe(K,P(R,K))}else{if(uo&&Ee(m))for(const F of i.mount){const K=P(n,F);if(K&&K._f){const Se=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(hs(Se)){const be=Se.closest("form");if(be){be.reset();break}}}}n={}}a=r.shouldUnregister?b.keepDefaultValues?Le(s):{}:Le(R),h.array.next({values:{...R}}),h.values.next({values:{...R}})}i={mount:b.keepDirtyValues?i.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!b.keepIsValid||!!b.keepDirtyValues,o.watch=!!r.shouldUnregister,h.state.next({submitCount:b.keepSubmitCount?t.submitCount:0,isDirty:I?!1:b.keepDirty?t.isDirty:!!(b.keepDefaultValues&&!It(m,s)),isSubmitted:b.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:I?{}:b.keepDirtyValues?b.keepDefaultValues&&a?Jr(s,a):t.dirtyFields:b.keepDefaultValues&&m?Jr(s,m):b.keepDirty?t.dirtyFields:{},touchedFields:b.keepTouched?t.touchedFields:{},errors:b.keepErrors?t.errors:{},isSubmitSuccessful:b.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Br=(m,b)=>Un(_t(m)?m(a):m,b);return{control:{register:qe,unregister:fe,getFieldState:te,handleSubmit:Ln,setError:Pe,_executeSchema:ie,_getWatch:W,_getDirty:M,_updateValid:y,_removeUnmounted:le,_updateFieldArray:x,_updateDisabledField:Ve,_getFieldArray:ee,_reset:Un,_resetDefaultValues:()=>_t(e.defaultValues)&&e.defaultValues().then(m=>{Br(m,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:m=>{t={...t,...m}},_disableForm:st,_subjects:h,_proxyFormState:d,_setErrors:A,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(m){o=m},get _defaultValues(){return s},get _names(){return i},set _names(m){i=m},get _formState(){return t},set _formState(m){t=m},get _options(){return e},set _options(m){e={...e,...m}}},trigger:ye,register:qe,handleSubmit:Ln,watch:Ze,setValue:xe,getValues:V,reset:Br,resetField:Vr,clearErrors:he,unregister:fe,setError:Pe,setFocus:(m,b={})=>{const k=P(n,m),D=k&&k._f;if(D){const I=D.refs?D.refs[0]:D.ref;I.focus&&(I.focus(),b.shouldSelect&&I.select())}},getFieldState:te}}function Gd(r={}){const e=S.useRef(),t=S.useRef(),[n,s]=S.useState({isDirty:!1,isValidating:!1,isLoading:_t(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:_t(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...Yb(r),formState:n});const a=e.current.control;return a._options=r,fo({subject:a._subjects.state,next:o=>{Ld(o,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),S.useEffect(()=>a._disableForm(r.disabled),[a,r.disabled]),S.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),S.useEffect(()=>{r.values&&!It(r.values,t.current)?(a._reset(r.values,a._options.resetOptions),t.current=r.values,s(o=>({...o}))):a._resetDefaultValues()},[r.values,a]),S.useEffect(()=>{r.errors&&a._setErrors(r.errors)},[r.errors,a]),S.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),S.useEffect(()=>{r.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[r.shouldUnregister,a]),S.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[n]),e.current.formState=$d(n,a),e.current}var ae;(function(r){r.assertEqual=s=>s;function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},r.getValidEnumValues=s=>{const a=r.objectKeys(s).filter(i=>typeof s[s[i]]!="number"),o={};for(const i of a)o[i]=s[i];return r.objectValues(o)},r.objectValues=s=>r.objectKeys(s).map(function(a){return s[a]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},r.find=(s,a)=>{for(const o of s)if(a(o))return o},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ae||(ae={}));var Pa;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Pa||(Pa={}));const $=ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mt=r=>{switch(typeof r){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(r)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(r)?$.array:r===null?$.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?$.promise:typeof Map<"u"&&r instanceof Map?$.map:typeof Set<"u"&&r instanceof Set?$.set:typeof Date<"u"&&r instanceof Date?$.date:$.object;default:return $.unknown}},T=ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Xb=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class We extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let i=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(i[c]=i[c]||{_errors:[]},i[c]._errors.push(t(o))):i[c]=i[c]||{_errors:[]},i=i[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof We))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}We.create=r=>new We(r);const Pr=(r,e)=>{let t;switch(r.code){case T.invalid_type:r.received===$.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case T.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,ae.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:t=`Unrecognized key(s) in object: ${ae.joinValues(r.keys,", ")}`;break;case T.invalid_union:t="Invalid input";break;case T.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ae.joinValues(r.options)}`;break;case T.invalid_enum_value:t=`Invalid enum value. Expected ${ae.joinValues(r.options)}, received '${r.received}'`;break;case T.invalid_arguments:t="Invalid function arguments";break;case T.invalid_return_type:t="Invalid function return type";break;case T.invalid_date:t="Invalid date";break;case T.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:ae.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case T.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case T.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case T.custom:t="Invalid input";break;case T.invalid_intersection_types:t="Intersection results could not be merged";break;case T.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case T.not_finite:t="Number must be finite";break;default:t=e.defaultError,ae.assertNever(r)}return{message:t}};let Kd=Pr;function Qb(r){Kd=r}function ms(){return Kd}const gs=r=>{const{data:e,path:t,errorMaps:n,issueData:s}=r,a=[...t,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let i="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)i=c(o,{data:e,defaultError:i}).message;return{...s,path:a,message:i}},ew=[];function j(r,e){const t=ms(),n=gs({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Pr?void 0:Pr].filter(s=>!!s)});r.common.issues.push(n)}class Ie{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if(s.status==="aborted")return z;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const s of t){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return Ie.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return z;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const z=Object.freeze({status:"aborted"}),gr=r=>({status:"dirty",value:r}),De=r=>({status:"valid",value:r}),Oa=r=>r.status==="aborted",Ia=r=>r.status==="dirty",gn=r=>r.status==="valid",vn=r=>typeof Promise<"u"&&r instanceof Promise;function vs(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function Jd(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t}var U;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(U||(U={}));var en,tn;class ft{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xi=(r,e)=>{if(gn(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new We(r.common.issues);return this._error=t,this._error}}};function G(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,i)=>{var l,c;const{message:d}=r;return o.code==="invalid_enum_value"?{message:d??i.defaultError}:typeof i.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:(c=d??t)!==null&&c!==void 0?c:i.defaultError}},description:s}}class Q{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Mt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ie,ctx:{common:e.parent.common,data:e.data,parsedType:Mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(vn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const s={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mt(e)},a=this._parseSync({data:e,path:s.path,parent:s});return xi(s,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mt(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(vn(s)?s:Promise.resolve(s));return xi(n,a)}refine(e,t){const n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const o=e(s),i=()=>a.addIssue({code:T.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new nt({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ht.create(this,this._def)}nullable(){return Ft.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rt.create(this,this._def)}promise(){return Ir.create(this,this._def)}or(e){return _n.create([this,e],this._def)}and(e){return xn.create(this,e,this._def)}transform(e){return new nt({...G(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Tn({...G(this._def),innerType:this,defaultValue:t,typeName:B.ZodDefault})}brand(){return new go({typeName:B.ZodBranded,type:this,...G(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Rn({...G(this._def),innerType:this,catchValue:t,typeName:B.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return $n.create(this,e)}readonly(){return An.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tw=/^c[^\s-]{8,}$/i,rw=/^[0-9a-z]+$/,nw=/^[0-9A-HJKMNP-TV-Z]{26}$/,sw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aw=/^[a-z0-9_-]{21}$/i,ow=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ua;const cw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dw=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,uw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hw=new RegExp(`^${Yd}$`);function Xd(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function fw(r){return new RegExp(`^${Xd(r)}$`)}function Qd(r){let e=`${Yd}T${Xd(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function pw(r,e){return!!((e==="v4"||!e)&&cw.test(r)||(e==="v6"||!e)&&dw.test(r))}class tt extends Q{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$.string){const a=this._getOrReturnCtx(e);return j(a,{code:T.invalid_type,expected:$.string,received:a.parsedType}),z}const n=new Ie;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),j(s,{code:T.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),j(s,{code:T.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,i=e.data.length<a.value;(o||i)&&(s=this._getOrReturnCtx(e,s),o?j(s,{code:T.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&j(s,{code:T.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")iw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"email",code:T.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")ua||(ua=new RegExp(lw,"u")),ua.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"emoji",code:T.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")sw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"uuid",code:T.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")aw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"nanoid",code:T.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")tw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"cuid",code:T.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")rw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"cuid2",code:T.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")nw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"ulid",code:T.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),j(s,{validation:"url",code:T.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"regex",code:T.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),j(s,{code:T.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),j(s,{code:T.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),j(s,{code:T.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Qd(a).test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{code:T.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?hw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{code:T.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?fw(a).test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{code:T.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?ow.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"duration",code:T.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?pw(e.data,a.version)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"ip",code:T.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?uw.test(e.data)||(s=this._getOrReturnCtx(e,s),j(s,{validation:"base64",code:T.invalid_string,message:a.message}),n.dirty()):ae.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:T.invalid_string,...U.errToObj(n)})}_addCheck(e){return new tt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...U.errToObj(e)})}url(e){return this._addCheck({kind:"url",...U.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...U.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...U.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...U.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...U.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...U.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...U.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...U.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...U.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...U.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...U.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...U.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...U.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...U.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...U.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...U.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...U.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...U.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...U.errToObj(t)})}nonempty(e){return this.min(1,U.errToObj(e))}trim(){return new tt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}tt.create=r=>{var e;return new tt({checks:[],typeName:B.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...G(r)})};function mw(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,a=parseInt(r.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class $t extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$.number){const a=this._getOrReturnCtx(e);return j(a,{code:T.invalid_type,expected:$.number,received:a.parsedType}),z}let n;const s=new Ie;for(const a of this._def.checks)a.kind==="int"?ae.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),j(n,{code:T.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:T.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:T.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?mw(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),j(n,{code:T.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),j(n,{code:T.not_finite,message:a.message}),s.dirty()):ae.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,U.toString(t))}gt(e,t){return this.setLimit("min",e,!1,U.toString(t))}lte(e,t){return this.setLimit("max",e,!0,U.toString(t))}lt(e,t){return this.setLimit("max",e,!1,U.toString(t))}setLimit(e,t,n,s){return new $t({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:U.toString(s)}]})}_addCheck(e){return new $t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:U.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:U.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:U.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:U.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:U.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ae.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}$t.create=r=>new $t({checks:[],typeName:B.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...G(r)});class Lt extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$.bigint){const a=this._getOrReturnCtx(e);return j(a,{code:T.invalid_type,expected:$.bigint,received:a.parsedType}),z}let n;const s=new Ie;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:T.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:T.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),j(n,{code:T.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ae.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,U.toString(t))}gt(e,t){return this.setLimit("min",e,!1,U.toString(t))}lte(e,t){return this.setLimit("max",e,!0,U.toString(t))}lt(e,t){return this.setLimit("max",e,!1,U.toString(t))}setLimit(e,t,n,s){return new Lt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:U.toString(s)}]})}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:U.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Lt.create=r=>{var e;return new Lt({checks:[],typeName:B.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...G(r)})};class yn extends Q{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$.boolean){const n=this._getOrReturnCtx(e);return j(n,{code:T.invalid_type,expected:$.boolean,received:n.parsedType}),z}return De(e.data)}}yn.create=r=>new yn({typeName:B.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...G(r)});class Qt extends Q{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$.date){const a=this._getOrReturnCtx(e);return j(a,{code:T.invalid_type,expected:$.date,received:a.parsedType}),z}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return j(a,{code:T.invalid_date}),z}const n=new Ie;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),j(s,{code:T.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),j(s,{code:T.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ae.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Qt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:U.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:U.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Qt.create=r=>new Qt({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:B.ZodDate,...G(r)});class ys extends Q{_parse(e){if(this._getType(e)!==$.symbol){const n=this._getOrReturnCtx(e);return j(n,{code:T.invalid_type,expected:$.symbol,received:n.parsedType}),z}return De(e.data)}}ys.create=r=>new ys({typeName:B.ZodSymbol,...G(r)});class bn extends Q{_parse(e){if(this._getType(e)!==$.undefined){const n=this._getOrReturnCtx(e);return j(n,{code:T.invalid_type,expected:$.undefined,received:n.parsedType}),z}return De(e.data)}}bn.create=r=>new bn({typeName:B.ZodUndefined,...G(r)});class wn extends Q{_parse(e){if(this._getType(e)!==$.null){const n=this._getOrReturnCtx(e);return j(n,{code:T.invalid_type,expected:$.null,received:n.parsedType}),z}return De(e.data)}}wn.create=r=>new wn({typeName:B.ZodNull,...G(r)});class Or extends Q{constructor(){super(...arguments),this._any=!0}_parse(e){return De(e.data)}}Or.create=r=>new Or({typeName:B.ZodAny,...G(r)});class Xt extends Q{constructor(){super(...arguments),this._unknown=!0}_parse(e){return De(e.data)}}Xt.create=r=>new Xt({typeName:B.ZodUnknown,...G(r)});class xt extends Q{_parse(e){const t=this._getOrReturnCtx(e);return j(t,{code:T.invalid_type,expected:$.never,received:t.parsedType}),z}}xt.create=r=>new xt({typeName:B.ZodNever,...G(r)});class bs extends Q{_parse(e){if(this._getType(e)!==$.undefined){const n=this._getOrReturnCtx(e);return j(n,{code:T.invalid_type,expected:$.void,received:n.parsedType}),z}return De(e.data)}}bs.create=r=>new bs({typeName:B.ZodVoid,...G(r)});class rt extends Q{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==$.array)return j(t,{code:T.invalid_type,expected:$.array,received:t.parsedType}),z;if(s.exactLength!==null){const o=t.data.length>s.exactLength.value,i=t.data.length<s.exactLength.value;(o||i)&&(j(t,{code:o?T.too_big:T.too_small,minimum:i?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(j(t,{code:T.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(j(t,{code:T.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>s.type._parseAsync(new ft(t,o,t.path,i)))).then(o=>Ie.mergeArray(n,o));const a=[...t.data].map((o,i)=>s.type._parseSync(new ft(t,o,t.path,i)));return Ie.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new rt({...this._def,minLength:{value:e,message:U.toString(t)}})}max(e,t){return new rt({...this._def,maxLength:{value:e,message:U.toString(t)}})}length(e,t){return new rt({...this._def,exactLength:{value:e,message:U.toString(t)}})}nonempty(e){return this.min(1,e)}}rt.create=(r,e)=>new rt({type:r,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...G(e)});function mr(r){if(r instanceof ke){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=ht.create(mr(n))}return new ke({...r._def,shape:()=>e})}else return r instanceof rt?new rt({...r._def,type:mr(r.element)}):r instanceof ht?ht.create(mr(r.unwrap())):r instanceof Ft?Ft.create(mr(r.unwrap())):r instanceof pt?pt.create(r.items.map(e=>mr(e))):r}class ke extends Q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ae.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==$.object){const c=this._getOrReturnCtx(e);return j(c,{code:T.invalid_type,expected:$.object,received:c.parsedType}),z}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof xt&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||i.push(c);const l=[];for(const c of o){const d=a[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new ft(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof xt){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of i)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")i.length>0&&(j(s,{code:T.unrecognized_keys,keys:i}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of i){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new ft(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,f=await d.value;c.push({key:h,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>Ie.mergeObjectSync(n,c)):Ie.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return U.errToObj,new ke({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,a,o,i;const l=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(i=U.errToObj(e).message)!==null&&i!==void 0?i:l}:{message:l}}}:{}})}strip(){return new ke({...this._def,unknownKeys:"strip"})}passthrough(){return new ke({...this._def,unknownKeys:"passthrough"})}extend(e){return new ke({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ke({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ke({...this._def,catchall:e})}pick(e){const t={};return ae.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new ke({...this._def,shape:()=>t})}omit(e){const t={};return ae.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new ke({...this._def,shape:()=>t})}deepPartial(){return mr(this)}partial(e){const t={};return ae.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new ke({...this._def,shape:()=>t})}required(e){const t={};return ae.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ht;)a=a._def.innerType;t[n]=a}}),new ke({...this._def,shape:()=>t})}keyof(){return eu(ae.objectKeys(this.shape))}}ke.create=(r,e)=>new ke({shape:()=>r,unknownKeys:"strip",catchall:xt.create(),typeName:B.ZodObject,...G(e)});ke.strictCreate=(r,e)=>new ke({shape:()=>r,unknownKeys:"strict",catchall:xt.create(),typeName:B.ZodObject,...G(e)});ke.lazycreate=(r,e)=>new ke({shape:r,unknownKeys:"strip",catchall:xt.create(),typeName:B.ZodObject,...G(e)});class _n extends Q{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function s(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(i=>new We(i.ctx.common.issues));return j(t,{code:T.invalid_union,unionErrors:o}),z}if(t.common.async)return Promise.all(n.map(async a=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const l of n){const c={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(l=>new We(l));return j(t,{code:T.invalid_union,unionErrors:i}),z}}get options(){return this._def.options}}_n.create=(r,e)=>new _n({options:r,typeName:B.ZodUnion,...G(e)});const bt=r=>r instanceof Sn?bt(r.schema):r instanceof nt?bt(r.innerType()):r instanceof En?[r.value]:r instanceof Ut?r.options:r instanceof Cn?ae.objectValues(r.enum):r instanceof Tn?bt(r._def.innerType):r instanceof bn?[void 0]:r instanceof wn?[null]:r instanceof ht?[void 0,...bt(r.unwrap())]:r instanceof Ft?[null,...bt(r.unwrap())]:r instanceof go||r instanceof An?bt(r.unwrap()):r instanceof Rn?bt(r._def.innerType):[];class Fs extends Q{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.object)return j(t,{code:T.invalid_type,expected:$.object,received:t.parsedType}),z;const n=this.discriminator,s=t.data[n],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(j(t,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const a of t){const o=bt(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of o){if(s.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);s.set(i,a)}}return new Fs({typeName:B.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...G(n)})}}function Ma(r,e){const t=Mt(r),n=Mt(e);if(r===e)return{valid:!0,data:r};if(t===$.object&&n===$.object){const s=ae.objectKeys(e),a=ae.objectKeys(r).filter(i=>s.indexOf(i)!==-1),o={...r,...e};for(const i of a){const l=Ma(r[i],e[i]);if(!l.valid)return{valid:!1};o[i]=l.data}return{valid:!0,data:o}}else if(t===$.array&&n===$.array){if(r.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<r.length;a++){const o=r[a],i=e[a],l=Ma(o,i);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return t===$.date&&n===$.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class xn extends Q{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(Oa(a)||Oa(o))return z;const i=Ma(a.value,o.value);return i.valid?((Ia(a)||Ia(o))&&t.dirty(),{status:t.value,value:i.data}):(j(n,{code:T.invalid_intersection_types}),z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xn.create=(r,e,t)=>new xn({left:r,right:e,typeName:B.ZodIntersection,...G(t)});class pt extends Q{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.array)return j(n,{code:T.invalid_type,expected:$.array,received:n.parsedType}),z;if(n.data.length<this._def.items.length)return j(n,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z;!this._def.rest&&n.data.length>this._def.items.length&&(j(n,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map((o,i)=>{const l=this._def.items[i]||this._def.rest;return l?l._parse(new ft(n,o,n.path,i)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Ie.mergeArray(t,o)):Ie.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new pt({...this._def,rest:e})}}pt.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pt({items:r,typeName:B.ZodTuple,rest:null,...G(e)})};class kn extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.object)return j(n,{code:T.invalid_type,expected:$.object,received:n.parsedType}),z;const s=[],a=this._def.keyType,o=this._def.valueType;for(const i in n.data)s.push({key:a._parse(new ft(n,i,n.path,i)),value:o._parse(new ft(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?Ie.mergeObjectAsync(t,s):Ie.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Q?new kn({keyType:e,valueType:t,typeName:B.ZodRecord,...G(n)}):new kn({keyType:tt.create(),valueType:e,typeName:B.ZodRecord,...G(t)})}}class ws extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.map)return j(n,{code:T.invalid_type,expected:$.map,received:n.parsedType}),z;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([i,l],c)=>({key:s._parse(new ft(n,i,n.path,[c,"key"])),value:a._parse(new ft(n,l,n.path,[c,"value"]))}));if(n.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return z;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),i.set(c.value,d.value)}return{status:t.value,value:i}})}else{const i=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return z;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),i.set(c.value,d.value)}return{status:t.value,value:i}}}}ws.create=(r,e,t)=>new ws({valueType:e,keyType:r,typeName:B.ZodMap,...G(t)});class er extends Q{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.set)return j(n,{code:T.invalid_type,expected:$.set,received:n.parsedType}),z;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(j(n,{code:T.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(j(n,{code:T.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return z;d.status==="dirty"&&t.dirty(),c.add(d.value)}return{status:t.value,value:c}}const i=[...n.data.values()].map((l,c)=>a._parse(new ft(n,l,n.path,c)));return n.common.async?Promise.all(i).then(l=>o(l)):o(i)}min(e,t){return new er({...this._def,minSize:{value:e,message:U.toString(t)}})}max(e,t){return new er({...this._def,maxSize:{value:e,message:U.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}er.create=(r,e)=>new er({valueType:r,minSize:null,maxSize:null,typeName:B.ZodSet,...G(e)});class _r extends Q{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.function)return j(t,{code:T.invalid_type,expected:$.function,received:t.parsedType}),z;function n(i,l){return gs({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ms(),Pr].filter(c=>!!c),issueData:{code:T.invalid_arguments,argumentsError:l}})}function s(i,l){return gs({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ms(),Pr].filter(c=>!!c),issueData:{code:T.invalid_return_type,returnTypeError:l}})}const a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ir){const i=this;return De(async function(...l){const c=new We([]),d=await i._def.args.parseAsync(l,a).catch(v=>{throw c.addIssue(n(l,v)),c}),h=await Reflect.apply(o,this,d);return await i._def.returns._def.type.parseAsync(h,a).catch(v=>{throw c.addIssue(s(h,v)),c})})}else{const i=this;return De(function(...l){const c=i._def.args.safeParse(l,a);if(!c.success)throw new We([n(l,c.error)]);const d=Reflect.apply(o,this,c.data),h=i._def.returns.safeParse(d,a);if(!h.success)throw new We([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new _r({...this._def,args:pt.create(e).rest(Xt.create())})}returns(e){return new _r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new _r({args:e||pt.create([]).rest(Xt.create()),returns:t||Xt.create(),typeName:B.ZodFunction,...G(n)})}}class Sn extends Q{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Sn.create=(r,e)=>new Sn({getter:r,typeName:B.ZodLazy,...G(e)});class En extends Q{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return j(t,{received:t.data,code:T.invalid_literal,expected:this._def.value}),z}return{status:"valid",value:e.data}}get value(){return this._def.value}}En.create=(r,e)=>new En({value:r,typeName:B.ZodLiteral,...G(e)});function eu(r,e){return new Ut({values:r,typeName:B.ZodEnum,...G(e)})}class Ut extends Q{constructor(){super(...arguments),en.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return j(t,{expected:ae.joinValues(n),received:t.parsedType,code:T.invalid_type}),z}if(vs(this,en,"f")||Jd(this,en,new Set(this._def.values),"f"),!vs(this,en,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return j(t,{received:t.data,code:T.invalid_enum_value,options:n}),z}return De(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ut.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ut.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}en=new WeakMap;Ut.create=eu;class Cn extends Q{constructor(){super(...arguments),tn.set(this,void 0)}_parse(e){const t=ae.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$.string&&n.parsedType!==$.number){const s=ae.objectValues(t);return j(n,{expected:ae.joinValues(s),received:n.parsedType,code:T.invalid_type}),z}if(vs(this,tn,"f")||Jd(this,tn,new Set(ae.getValidEnumValues(this._def.values)),"f"),!vs(this,tn,"f").has(e.data)){const s=ae.objectValues(t);return j(n,{received:n.data,code:T.invalid_enum_value,options:s}),z}return De(e.data)}get enum(){return this._def.values}}tn=new WeakMap;Cn.create=(r,e)=>new Cn({values:r,typeName:B.ZodNativeEnum,...G(e)});class Ir extends Q{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.promise&&t.common.async===!1)return j(t,{code:T.invalid_type,expected:$.promise,received:t.parsedType}),z;const n=t.parsedType===$.promise?t.data:Promise.resolve(t.data);return De(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ir.create=(r,e)=>new Ir({type:r,typeName:B.ZodPromise,...G(e)});class nt extends Q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{j(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return z;const l=await this._def.schema._parseAsync({data:i,path:n.path,parent:n});return l.status==="aborted"?z:l.status==="dirty"||t.value==="dirty"?gr(l.value):l});{if(t.value==="aborted")return z;const i=this._def.schema._parseSync({data:o,path:n.path,parent:n});return i.status==="aborted"?z:i.status==="dirty"||t.value==="dirty"?gr(i.value):i}}if(s.type==="refinement"){const o=i=>{const l=s.refinement(i,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?z:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?z:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!gn(o))return o;const i=s.transform(o.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>gn(o)?Promise.resolve(s.transform(o.value,a)).then(i=>({status:t.value,value:i})):o);ae.assertNever(s)}}nt.create=(r,e,t)=>new nt({schema:r,typeName:B.ZodEffects,effect:e,...G(t)});nt.createWithPreprocess=(r,e,t)=>new nt({schema:e,effect:{type:"preprocess",transform:r},typeName:B.ZodEffects,...G(t)});class ht extends Q{_parse(e){return this._getType(e)===$.undefined?De(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ht.create=(r,e)=>new ht({innerType:r,typeName:B.ZodOptional,...G(e)});class Ft extends Q{_parse(e){return this._getType(e)===$.null?De(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ft.create=(r,e)=>new Ft({innerType:r,typeName:B.ZodNullable,...G(e)});class Tn extends Q{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===$.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Tn.create=(r,e)=>new Tn({innerType:r,typeName:B.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...G(e)});class Rn extends Q{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return vn(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new We(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new We(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Rn.create=(r,e)=>new Rn({innerType:r,typeName:B.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...G(e)});class _s extends Q{_parse(e){if(this._getType(e)!==$.nan){const n=this._getOrReturnCtx(e);return j(n,{code:T.invalid_type,expected:$.nan,received:n.parsedType}),z}return{status:"valid",value:e.data}}}_s.create=r=>new _s({typeName:B.ZodNaN,...G(r)});const gw=Symbol("zod_brand");class go extends Q{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class $n extends Q{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?z:a.status==="dirty"?(t.dirty(),gr(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?z:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new $n({in:e,out:t,typeName:B.ZodPipeline})}}class An extends Q{_parse(e){const t=this._def.innerType._parse(e),n=s=>(gn(s)&&(s.value=Object.freeze(s.value)),s);return vn(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}}An.create=(r,e)=>new An({innerType:r,typeName:B.ZodReadonly,...G(e)});function tu(r,e={},t){return r?Or.create().superRefine((n,s)=>{var a,o;if(!r(n)){const i=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(a=i.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,c=typeof i=="string"?{message:i}:i;s.addIssue({code:"custom",...c,fatal:l})}}):Or.create()}const vw={object:ke.lazycreate};var B;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(B||(B={}));const yw=(r,e={message:`Input not instance of ${r.name}`})=>tu(t=>t instanceof r,e),ru=tt.create,nu=$t.create,bw=_s.create,ww=Lt.create,su=yn.create,_w=Qt.create,xw=ys.create,kw=bn.create,Sw=wn.create,Ew=Or.create,Cw=Xt.create,Tw=xt.create,Rw=bs.create,Aw=rt.create,Nw=ke.create,Pw=ke.strictCreate,Ow=_n.create,Iw=Fs.create,Mw=xn.create,Dw=pt.create,jw=kn.create,$w=ws.create,Lw=er.create,Uw=_r.create,Fw=Sn.create,Vw=En.create,Bw=Ut.create,zw=Cn.create,Ww=Ir.create,ki=nt.create,Zw=ht.create,qw=Ft.create,Hw=nt.createWithPreprocess,Gw=$n.create,Kw=()=>ru().optional(),Jw=()=>nu().optional(),Yw=()=>su().optional(),Xw={string:r=>tt.create({...r,coerce:!0}),number:r=>$t.create({...r,coerce:!0}),boolean:r=>yn.create({...r,coerce:!0}),bigint:r=>Lt.create({...r,coerce:!0}),date:r=>Qt.create({...r,coerce:!0})},Qw=z;var Yt=Object.freeze({__proto__:null,defaultErrorMap:Pr,setErrorMap:Qb,getErrorMap:ms,makeIssue:gs,EMPTY_PATH:ew,addIssueToContext:j,ParseStatus:Ie,INVALID:z,DIRTY:gr,OK:De,isAborted:Oa,isDirty:Ia,isValid:gn,isAsync:vn,get util(){return ae},get objectUtil(){return Pa},ZodParsedType:$,getParsedType:Mt,ZodType:Q,datetimeRegex:Qd,ZodString:tt,ZodNumber:$t,ZodBigInt:Lt,ZodBoolean:yn,ZodDate:Qt,ZodSymbol:ys,ZodUndefined:bn,ZodNull:wn,ZodAny:Or,ZodUnknown:Xt,ZodNever:xt,ZodVoid:bs,ZodArray:rt,ZodObject:ke,ZodUnion:_n,ZodDiscriminatedUnion:Fs,ZodIntersection:xn,ZodTuple:pt,ZodRecord:kn,ZodMap:ws,ZodSet:er,ZodFunction:_r,ZodLazy:Sn,ZodLiteral:En,ZodEnum:Ut,ZodNativeEnum:Cn,ZodPromise:Ir,ZodEffects:nt,ZodTransformer:nt,ZodOptional:ht,ZodNullable:Ft,ZodDefault:Tn,ZodCatch:Rn,ZodNaN:_s,BRAND:gw,ZodBranded:go,ZodPipeline:$n,ZodReadonly:An,custom:tu,Schema:Q,ZodSchema:Q,late:vw,get ZodFirstPartyTypeKind(){return B},coerce:Xw,any:Ew,array:Aw,bigint:ww,boolean:su,date:_w,discriminatedUnion:Iw,effect:ki,enum:Bw,function:Uw,instanceof:yw,intersection:Mw,lazy:Fw,literal:Vw,map:$w,nan:bw,nativeEnum:zw,never:Tw,null:Sw,nullable:qw,number:nu,object:Nw,oboolean:Yw,onumber:Jw,optional:Zw,ostring:Kw,pipeline:Gw,preprocess:Hw,promise:Ww,record:jw,set:Lw,strictObject:Pw,string:ru,symbol:xw,transformer:ki,tuple:Dw,undefined:kw,union:Ow,unknown:Cw,void:Rw,NEVER:Qw,ZodIssueCode:T,quotelessJson:Xb,ZodError:We});const Si=(r,e,t)=>{if(r&&"reportValidity"in r){const n=P(t,e);r.setCustomValidity(n&&n.message||""),r.reportValidity()}},au=(r,e)=>{for(const t in e.fields){const n=e.fields[t];n&&n.ref&&"reportValidity"in n.ref?Si(n.ref,t,r):n.refs&&n.refs.forEach(s=>Si(s,t,r))}},e0=(r,e)=>{e.shouldUseNativeValidation&&au(r,e);const t={};for(const n in r){const s=P(e.fields,n),a=Object.assign(r[n]||{},{ref:s&&s.ref});if(t0(e.names||Object.keys(r),n)){const o=Object.assign({},P(t,n));ce(o,"root",a),ce(t,n,o)}else ce(t,n,a)}return t},t0=(r,e)=>r.some(t=>t.startsWith(e+"."));var r0=function(r,e){for(var t={};r.length;){var n=r[0],s=n.code,a=n.message,o=n.path.join(".");if(!t[o])if("unionErrors"in n){var i=n.unionErrors[0].errors[0];t[o]={message:i.message,type:i.code}}else t[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return r.push(h)})}),e){var l=t[o].types,c=l&&l[n.code];t[o]=Vd(o,e,t,s,c?[].concat(c,n.message):n.message)}r.shift()}return t},ou=function(r,e,t){return t===void 0&&(t={}),function(n,s,a){try{return Promise.resolve(function(o,i){try{var l=Promise.resolve(r[t.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return a.shouldUseNativeValidation&&au({},a),{errors:{},values:t.raw?n:c}})}catch(c){return i(c)}return l&&l.then?l.then(void 0,i):l}(0,function(o){if(function(i){return Array.isArray(i==null?void 0:i.errors)}(o))return{values:{},errors:e0(r0(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},n0="Label",iu=p.forwardRef((r,e)=>u(Oe.label,{...r,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=r.onMouseDown)==null||s.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));iu.displayName=n0;var lu=iu;const s0=La("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cu=p.forwardRef(({className:r,...e},t)=>u(lu,{ref:t,className:re(s0(),r),...e}));cu.displayName=lu.displayName;const du=jb,uu=p.createContext({}),cn=({...r})=>u(uu.Provider,{value:{name:r.name},children:u(Fb,{...r})}),Vs=()=>{const r=p.useContext(uu),e=p.useContext(hu),{getFieldState:t,formState:n}=Us(),s=t(r.name,n);if(!r)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:r.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},hu=p.createContext({}),xr=p.forwardRef(({className:r,...e},t)=>{const n=p.useId();return u(hu.Provider,{value:{id:n},children:u("div",{ref:t,className:re("space-y-2",r),...e})})});xr.displayName="FormItem";const kr=p.forwardRef(({className:r,...e},t)=>{const{error:n,formItemId:s}=Vs();return u(cu,{ref:t,className:re(n&&"text-destructive",r),htmlFor:s,...e})});kr.displayName="FormLabel";const Sr=p.forwardRef(({...r},e)=>{const{error:t,formItemId:n,formDescriptionId:s,formMessageId:a}=Vs();return u(Da,{ref:e,id:n,"aria-describedby":t?`${s} ${a}`:`${s}`,"aria-invalid":!!t,...r})});Sr.displayName="FormControl";const a0=p.forwardRef(({className:r,...e},t)=>{const{formDescriptionId:n}=Vs();return u("p",{ref:t,id:n,className:re("text-sm text-muted-foreground",r),...e})});a0.displayName="FormDescription";const Er=p.forwardRef(({className:r,children:e,...t},n)=>{const{error:s,formMessageId:a}=Vs(),o=s?String(s==null?void 0:s.message):e;return o?u("p",{ref:n,id:a,className:re("text-sm font-medium text-destructive",r),...t,children:o}):null});Er.displayName="FormMessage";const Cr=p.forwardRef(({className:r,type:e,...t},n)=>u("input",{type:e,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:n,...t}));Cr.displayName="Input";const o0=Yt.object({email:Yt.string().email({message:"Please enter a valid email address"}),password:Yt.string().min(6,{message:"Password must be at least 6 characters"})}),i0=()=>{const{signIn:r}=In(),e=Gd({resolver:ou(o0),defaultValues:{email:"",password:""}}),t=async n=>{try{await r(n.email,n.password)}catch(s){console.error("Login error:",s)}};return u(du,{...e,children:N("form",{onSubmit:e.handleSubmit(t),className:"space-y-6",children:[u(cn,{control:e.control,name:"email",render:({field:n})=>N(xr,{children:[u(kr,{children:"Email"}),u(Sr,{children:u(Cr,{placeholder:"you@example.com",...n})}),u(Er,{})]})}),u(cn,{control:e.control,name:"password",render:({field:n})=>N(xr,{children:[u(kr,{children:"Password"}),u(Sr,{children:u(Cr,{type:"password",placeholder:"******",...n})}),u(Er,{})]})}),u(de,{type:"submit",className:"w-full",children:"Sign In"})]})})},l0=Yt.object({email:Yt.string().email({message:"Please enter a valid email address"}),password:Yt.string().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:Yt.string().min(6)}).refine(r=>r.password===r.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),c0=()=>{const{signUp:r}=In(),[e,t]=p.useState(!1),n=Gd({resolver:ou(l0),defaultValues:{email:"",password:"",confirmPassword:""}}),s=async a=>{try{t(!0),await r(a.email,a.password)}catch(o){n.setError("root",{type:"manual",message:o.message||"Failed to create account"})}finally{t(!1)}};return u(du,{...n,children:N("form",{onSubmit:n.handleSubmit(s),className:"space-y-6",children:[n.formState.errors.root&&u("div",{className:"text-sm font-medium text-destructive",children:n.formState.errors.root.message}),u(cn,{control:n.control,name:"email",render:({field:a})=>N(xr,{children:[u(kr,{children:"Email"}),u(Sr,{children:u(Cr,{placeholder:"you@example.com",...a})}),u(Er,{})]})}),u(cn,{control:n.control,name:"password",render:({field:a})=>N(xr,{children:[u(kr,{children:"Password"}),u(Sr,{children:u(Cr,{type:"password",placeholder:"******",...a})}),u(Er,{})]})}),u(cn,{control:n.control,name:"confirmPassword",render:({field:a})=>N(xr,{children:[u(kr,{children:"Confirm Password"}),u(Sr,{children:u(Cr,{type:"password",placeholder:"******",...a})}),u(Er,{})]})}),u(de,{type:"submit",className:"w-full",disabled:e,children:e?N(ks,{children:[u(Ki,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Sign Up"})]})})},d0=()=>{const r=kt(),[e,t]=p.useState(()=>new URLSearchParams(r.search).get("tab")||"login"),{user:n,isLoading:s}=In(),a=$r();return p.useEffect(()=>{const o=`${r.pathname}?tab=${e}`;window.history.replaceState(null,"",o)},[e,r.pathname]),p.useEffect(()=>{var o,i;if(n&&!s){const l=((i=(o=r.state)==null?void 0:o.from)==null?void 0:i.pathname)||"/workspaces";a(l,{replace:!0})}},[n,s,a,r]),s?u("div",{className:"flex items-center justify-center min-h-screen bg-background",children:u(lo,{text:"Checking authentication...",size:"lg"})}):u("div",{className:"flex items-center justify-center min-h-screen bg-background",children:N(Fr,{className:"w-full max-w-md mx-4",children:[N(_d,{className:"text-center",children:[u(xd,{className:"text-2xl",children:"FluidDocs"}),u(kd,{children:e==="login"?"Welcome back! Sign in to continue.":"Create an account to get started."})]}),u(Sd,{children:N(co,{defaultValue:e,value:e,onValueChange:t,children:[N($s,{className:"grid w-full grid-cols-2 mb-6",children:[u(dt,{value:"login",children:"Login"}),u(dt,{value:"signup",children:"Sign Up"})]}),u(mn,{value:"login",className:"mt-0",children:u(i0,{})}),u(mn,{value:"signup",className:"mt-0",children:u(c0,{})})]})})]})})},u0=()=>{const r=kt();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",r.pathname)},[r.pathname]),u("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:N("div",{className:"text-center",children:[u("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ha=({children:r})=>{const{user:e,isLoading:t,session:n,refreshSession:s}=In(),a=kt(),o=$r(),[i,l]=p.useState(!1);return p.useEffect(()=>{if(!t&&n){const c=n.expires_at*1e3;Date.now()>=c?s().then(()=>{l(!0)}):l(!0)}else t||l(!0)},[t,n,s]),p.useEffect(()=>{(async()=>{!t&&!e&&i&&o("/auth",{state:{from:a},replace:!0})})()},[e,t,o,a,i]),t||!i?u("div",{className:"flex items-center justify-center min-h-screen bg-background",children:u(lo,{text:"Loading your session...",size:"lg"})}):e?u(ks,{children:r}):u(vl,{to:"/auth",state:{from:a},replace:!0})},h0=new Iu({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1}}}),f0=()=>u(Ef,{defaultTheme:"system",storageKey:"fluid-docs-theme",children:u(Mu,{client:h0,children:u(_p,{children:u(_f,{children:N(Wg,{children:[u(Wh,{}),u(wf,{}),N(pp,{children:[u(Ht,{path:"/auth",element:u(d0,{})}),u(Ht,{path:"/",element:u(ha,{children:u(hi,{})})}),u(Ht,{path:"/workspaces",element:u(ha,{children:u(Ib,{})})}),u(Ht,{path:"/document/:documentId",element:u(ha,{children:u(hi,{})})}),u(Ht,{path:"/home",element:u(vl,{to:"/",replace:!0})}),u(Ht,{path:"*",element:u(u0,{})})]})]})})})})});Ui(document.getElementById("root")).render(u(f0,{}));
